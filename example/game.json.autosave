{"firstLayout":"","gdVersion":{"build":99,"major":4,"minor":0,"revision":0},"properties":{"adaptGameResolutionAtRuntime":true,"folderProject":false,"orientation":"landscape","packageName":"com.example.gamename","pixelsRounding":true,"projectUuid":"4f857855-2e20-4009-bcca-1a4c5ed70f2e","scaleMode":"nearest","sizeOnStartupMode":"","useExternalSourceFiles":false,"version":"1.0.0","name":"VagueBag","description":"","author":"","windowWidth":800,"windowHeight":600,"latestCompilationDirectory":"","maxFPS":60,"minFPS":20,"verticalSync":false,"platformSpecificAssets":{},"loadingScreen":{"backgroundColor":0,"backgroundFadeInDuration":0.2,"backgroundImageResourceName":"","gdevelopLogoStyle":"light","logoAndProgressFadeInDuration":0.2,"logoAndProgressLogoFadeInDelay":0.2,"minDuration":1.5,"progressBarColor":16777215,"progressBarHeight":20.0,"progressBarMaxWidth":200.0,"progressBarMinWidth":40.0,"progressBarWidthPercent":30.0,"showGDevelopSplash":true,"showProgressBar":true},"authorIds":[],"playableDevices":["keyboard","gamepad","mobile"],"extensionProperties":[],"platforms":[{"name":"GDevelop JS platform"}],"currentPlatform":"GDevelop JS platform"},"resources":{"resources":[{"alwaysLoaded":false,"file":"assets/f111.png","kind":"image","metadata":"","name":"assets/f111.png","smoothed":true,"userAdded":true}],"resourceFolders":[]},"objects":[],"objectsGroups":[],"variables":[],"layouts":[{"b":209,"disableInputWhenNotFocused":true,"mangledName":"example","name":"example","oglFOV":90.0,"oglZFar":500.0,"oglZNear":1.0,"r":209,"standardSortMethod":true,"stopSoundsOnStartup":true,"title":"","v":209,"uiSettings":{"grid":false,"gridType":"rectangular","gridWidth":32.0,"gridHeight":32.0,"gridOffsetX":0.0,"gridOffsetY":0.0,"gridColor":10401023.0,"gridAlpha":0.8,"snap":false,"zoomFactor":1.0,"windowMask":false},"objectsGroups":[],"variables":[],"instances":[{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"7a0cfc5b-f435-414a-a3c6-a39e2ab776db","width":0.0,"x":145.0,"y":160.0,"zOrder":2,"numberProperties":[],"stringProperties":[],"initialVariables":[]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"0f7365bd-2cae-4f01-a655-77287707059f","width":0.0,"x":267.0,"y":121.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":1.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"cd29fdfd-2576-447f-a6ba-bf438a35597e","width":0.0,"x":379.0,"y":135.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":2.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"191b5b02-506e-48c6-ac53-c10dbfabbd07","width":0.0,"x":264.0,"y":343.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":4.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"ce28e50b-a7ae-47cf-bcd1-1604d4979aaa","width":0.0,"x":427.0,"y":255.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":3.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"59a8e4d8-d6f1-460b-b2a7-5e3486751bf3","width":0.0,"x":220.0,"y":447.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":5.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"a3118b7c-acdc-4f07-ac05-1d6ce365d692","width":0.0,"x":405.0,"y":477.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":6.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"point","persistentUuid":"1f3114e0-1f99-4a9f-895c-d07d6ce4c165","width":0.0,"x":565.0,"y":400.0,"zOrder":3,"numberProperties":[],"stringProperties":[],"initialVariables":[{"name":"id","type":"number","value":7.0}]},{"angle":0.0,"customSize":false,"height":0.0,"layer":"","locked":false,"name":"spine1","persistentUuid":"4c9ea61c-a8cd-4793-989a-26402fae46e1","width":0.0,"x":2.0,"y":3.0,"zOrder":4,"numberProperties":[],"stringProperties":[],"initialVariables":[]}],"objects":[{"name":"point","tags":"","type":"Sprite","updateIfNotVisible":false,"variables":[{"name":"id","type":"number","value":0.0}],"effects":[],"behaviors":[{"name":"Point","type":"BezierPaths::Point","x1":0.0,"y1":0.0,"x2":0.0,"y2":0.0,"orderID":0.0}],"animations":[{"name":"","useMultipleDirections":false,"directions":[{"looping":false,"timeBetweenFrames":0.08,"sprites":[{"hasCustomCollisionMask":false,"image":"assets/f111.png","points":[],"originPoint":{"name":"origine","x":0.0,"y":0.0},"centerPoint":{"automatic":true,"name":"centre","x":0.0,"y":0.0},"customCollisionMask":[]}]}]}]},{"name":"spine1","tags":"","type":"PrimitiveDrawing::Drawer","variables":[],"effects":[],"behaviors":[{"name":"SpineTrackRenderer","type":"BezierPaths::SpineTrackRenderer"}],"fillOpacity":255.0,"outlineSize":1,"outlineOpacity":255.0,"fillColor":{"b":255,"g":255,"r":255},"outlineColor":{"b":0,"g":0,"r":0},"absoluteCoordinates":false,"clearBetweenFrames":true}],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DepartScene"},"parameters":[""],"subInstructions":[]}],"actions":[{"type":{"inverted":false,"value":"DevToolkit::init"},"parameters":["",""],"subInstructions":[]},{"type":{"inverted":false,"value":"BezierPaths::SpineTrackRenderer::Render"},"parameters":["spine1","SpineTrackRenderer","point","Point","False",""],"subInstructions":[]}],"events":[]}],"layers":[{"ambientLightColorB":32,"ambientLightColorG":0,"ambientLightColorR":0,"followBaseLayerCamera":false,"isLightingLayer":false,"name":"","visibility":true,"cameras":[{"defaultSize":true,"defaultViewport":true,"height":0.0,"viewportBottom":1.0,"viewportLeft":0.0,"viewportRight":1.0,"viewportTop":0.0,"width":0.0}],"effects":[]}],"behaviorsSharedData":[{"name":"Point","type":"BezierPaths::Point"},{"name":"SpineTrackRenderer","type":"BezierPaths::SpineTrackRenderer"}]}],"externalEvents":[],"eventsFunctionsExtensions":[{"author":"https://github.com/FlokiTV","category":"","description":"Create virtual joystick for touch \n\nScrene Variables for joystick - JOY is name of your joystick\n\nJOY_ANGLE - Angle of analog\nJOY_PRESS - Numbler of directions (1 or 2 for diagonals)\nJOY_DIR - Direction of joystick string\nJOY_DIS - Distance of joystick from center\nJOY_T - Return if is on TOP - Boolean\nJOY_D - Return if is on DOWN - Boolean\nJOY_R - Return if is on RIGHT - Boolean\nJOY_L - Return if is on LEFT - Boolean","extensionNamespace":"","fullName":"ðŸ•¹ Nipple","helpPath":"https://github.com/FlokiTV/GDevelop-Nipple","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPHBhdGggZD0iTTIxLDdjMC0yLjgtMi4yLTUtNS01cy01LDIuMi01LDVjMCwxLjYsMC44LDMuMSwyLDR2MTBjMCwwLjMsMC4xLDAuNSwwLjMsMC43YzAuNywwLjcsMS43LDEuMSwyLjcsMS4xczItMC40LDIuNy0xLjENCgljMC4yLTAuMiwwLjMtMC40LDAuMy0wLjdWMTFDMjAuMiwxMC4xLDIxLDguNiwyMSw3eiIvPg0KPHBhdGggZD0iTTI5LjgsMjMuNGwtMy40LTQuMmMwLDAsMCwwLDAsMEMyNS44LDE4LjQsMjUsMTgsMjQsMThoLTN2M2MwLDAuOC0wLjMsMS42LTAuOSwyLjFjLTEuMSwxLjEtMi42LDEuNy00LjEsMS43DQoJcy0zLTAuNi00LjEtMS43QzExLjMsMjIuNiwxMSwyMS44LDExLDIxdi0zSDhjLTAuOSwwLTEuOCwwLjQtMi4zLDEuMWwtMy40LDQuMkMyLjEsMjMuNiwyLDIzLjgsMiwyNHYzYzAsMS43LDEuMywzLDMsM2gyMg0KCWMxLjcsMCwzLTEuMywzLTN2LTNDMzAsMjMuOCwyOS45LDIzLjYsMjkuOCwyMy40eiIvPg0KPC9zdmc+DQo=","name":"Nipple","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/Videogames/Videogames_gamer_joystick_controller.svg","shortDescription":"A virtual joystick for touch capable interfaces","version":"beta 0.0.1","tags":["joystick","analog"],"authorIds":[],"dependencies":[],"eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"onFirstSceneLoaded","private":false,"sentence":"","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DepartScene"},"parameters":[""],"subInstructions":[]},{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"! function(t, i) {\n    \"object\" == typeof exports && \"object\" == typeof module ? module.exports = i() : \"function\" == typeof define && define.amd ? define(\"nipplejs\", [], i) : \"object\" == typeof exports ? exports.nipplejs = i() : t.nipplejs = i()\n}(window, function() {\n    return o = {}, n.m = e = [function(t, i, e) {\n        \"use strict\";\n        e.r(i);\n        function v(t, i) {\n            var e = i.x - t.x,\n                t = i.y - t.y;\n            return Math.sqrt(e * e + t * t)\n        }\n        function b(t) {\n            return t * (Math.PI / 180)\n        }\n        function n(t) {\n            h.has(t) && clearTimeout(h.get(t)), h.set(t, setTimeout(t, 100))\n        }\n        function s(t, i, e) {\n            for (var o, n = i.split(/[ ,]+/g), s = 0; s < n.length; s += 1) o = n[s], t.addEventListener ? t.addEventListener(o, e, !1) : t.attachEvent && t.attachEvent(o, e)\n        }\n        function o(t, i, e) {\n            for (var o, n = i.split(/[ ,]+/g), s = 0; s < n.length; s += 1) o = n[s], t.removeEventListener ? t.removeEventListener(o, e) : t.detachEvent && t.detachEvent(o, e)\n        }\n        function r(t) {\n            return t.preventDefault(), t.type.match(/^touch/) ? t.changedTouches : t\n        }\n        function d() {\n            return {\n                x: void 0 !== window.pageXOffset ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n                y: void 0 !== window.pageYOffset ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n            }\n        }\n        function x(t, i) {\n            i.top || i.right || i.bottom || i.left ? (t.style.top = i.top, t.style.right = i.right, t.style.bottom = i.bottom, t.style.left = i.left) : (t.style.left = i.x + \"px\", t.style.top = i.y + \"px\")\n        }\n        function p(t, i, e) {\n            var o, n = u(t);\n            for (o in n)\n                if (n.hasOwnProperty(o))\n                    if (\"string\" == typeof i) n[o] = i + \" \" + e;\n                    else {\n                        for (var s = \"\", r = 0, d = i.length; r < d; r += 1) s += i[r] + \" \" + e + \", \";\n                        n[o] = s.slice(0, -2)\n                    } return n\n        }\n        function a(t, i) {\n            for (var e in i) i.hasOwnProperty(e) && (t[e] = i[e]);\n            return t\n        }\n        function c(t, i) {\n            if (t.length)\n                for (var e = 0, o = t.length; e < o; e += 1) i(t[e]);\n            else i(t)\n        }\n        var l, h = new Map,\n            u = function(i) {\n                var e = {};\n                return e[i] = \"\", [\"webkit\", \"Moz\", \"o\"].forEach(function(t) {\n                    e[t + i.charAt(0).toUpperCase() + i.slice(1)] = \"\"\n                }), e\n            },\n            f = !!(\"ontouchstart\" in window),\n            y = !!window.PointerEvent,\n            m = !!window.MSPointerEvent,\n            e = {\n                start: \"mousedown\",\n                move: \"mousemove\",\n                end: \"mouseup\"\n            },\n            g = {};\n        function O() {}\n        y ? l = {\n            start: \"pointerdown\",\n            move: \"pointermove\",\n            end: \"pointerup, pointercancel\"\n        } : m ? l = {\n            start: \"MSPointerDown\",\n            move: \"MSPointerMove\",\n            end: \"MSPointerUp\"\n        } : f ? (l = {\n            start: \"touchstart\",\n            move: \"touchmove\",\n            end: \"touchend, touchcancel\"\n        }, g = e) : l = e, O.prototype.on = function(t, i) {\n            var e, o = t.split(/[ ,]+/g);\n            this._handlers_ = this._handlers_ || {};\n            for (var n = 0; n < o.length; n += 1) e = o[n], this._handlers_[e] = this._handlers_[e] || [], this._handlers_[e].push(i);\n            return this\n        }, O.prototype.off = function(t, i) {\n            return this._handlers_ = this._handlers_ || {}, void 0 === t ? this._handlers_ = {} : void 0 === i ? this._handlers_[t] = null : this._handlers_[t] && 0 <= this._handlers_[t].indexOf(i) && this._handlers_[t].splice(this._handlers_[t].indexOf(i), 1), this\n        }, O.prototype.trigger = function(t, i) {\n            var e, o = this,\n                n = t.split(/[ ,]+/g);\n            o._handlers_ = o._handlers_ || {};\n            for (var s = 0; s < n.length; s += 1) e = n[s], o._handlers_[e] && o._handlers_[e].length && o._handlers_[e].forEach(function(t) {\n                t.call(o, {\n                    type: e,\n                    target: o\n                }, i)\n            })\n        }, O.prototype.config = function(t) {\n            this.options = this.defaults || {}, t && (this.options = function(t, i) {\n                var e, o = {};\n                for (e in t) t.hasOwnProperty(e) && i.hasOwnProperty(e) ? o[e] = i[e] : t.hasOwnProperty(e) && (o[e] = t[e]);\n                return o\n            }(this.options, t))\n        }, O.prototype.bindEvt = function(t, i) {\n            var e = this;\n            return e._domHandlers_ = e._domHandlers_ || {}, e._domHandlers_[i] = function() {\n                \"function\" == typeof e[\"on\" + i] ? e[\"on\" + i].apply(e, arguments) : console.warn('[WARNING] : Missing \"on' + i + '\" handler.')\n            }, s(t, l[i], e._domHandlers_[i]), g[i] && s(t, g[i], e._domHandlers_[i]), e\n        }, O.prototype.unbindEvt = function(t, i) {\n            return this._domHandlers_ = this._domHandlers_ || {}, o(t, l[i], this._domHandlers_[i]), g[i] && o(t, g[i], this._domHandlers_[i]), delete this._domHandlers_[i], this\n        };\n        e = O;\n        function w(t, i) {\n            return this.identifier = i.identifier, this.position = i.position, this.frontPosition = i.frontPosition, this.collection = t, this.defaults = {\n                size: 100,\n                threshold: .1,\n                color: \"white\",\n                fadeTime: 250,\n                dataOnly: !1,\n                restJoystick: !0,\n                restOpacity: .5,\n                mode: \"dynamic\",\n                zone: document.body,\n                lockX: !1,\n                lockY: !1,\n                shape: \"circle\"\n            }, this.config(i), \"dynamic\" === this.options.mode && (this.options.restOpacity = 0), this.id = w.id, w.id += 1, this.buildEl().stylize(), this.instance = {\n                el: this.ui.el,\n                on: this.on.bind(this),\n                off: this.off.bind(this),\n                show: this.show.bind(this),\n                hide: this.hide.bind(this),\n                add: this.addToDom.bind(this),\n                remove: this.removeFromDom.bind(this),\n                destroy: this.destroy.bind(this),\n                setPosition: this.setPosition.bind(this),\n                resetDirection: this.resetDirection.bind(this),\n                computeDirection: this.computeDirection.bind(this),\n                trigger: this.trigger.bind(this),\n                position: this.position,\n                frontPosition: this.frontPosition,\n                ui: this.ui,\n                identifier: this.identifier,\n                id: this.id,\n                options: this.options\n            }, this.instance\n        }\n        w.prototype = new e, (w.constructor = w).id = 0, w.prototype.buildEl = function(t) {\n            return this.ui = {}, this.options.dataOnly || (this.ui.el = document.createElement(\"div\"), this.ui.back = document.createElement(\"div\"), this.ui.front = document.createElement(\"div\"), this.ui.el.className = \"nipple collection_\" + this.collection.id, this.ui.back.className = \"back\", this.ui.front.className = \"front\", this.ui.el.setAttribute(\"id\", \"nipple_\" + this.collection.id + \"_\" + this.id), this.ui.el.appendChild(this.ui.back), this.ui.el.appendChild(this.ui.front)), this\n        }, w.prototype.stylize = function() {\n            if (this.options.dataOnly) return this;\n            var t = this.options.fadeTime + \"ms\",\n                i = function() {\n                    var t, i = u(\"borderRadius\");\n                    for (t in i) i.hasOwnProperty(t) && (i[t] = \"50%\");\n                    return i\n                }(),\n                e = p(\"transition\", \"opacity\", t),\n                t = {};\n            return t.el = {\n                position: \"absolute\",\n                opacity: this.options.restOpacity,\n                display: \"block\",\n                zIndex: 999\n            }, t.back = {\n                position: \"absolute\",\n                display: \"block\",\n                width: this.options.size + \"px\",\n                height: this.options.size + \"px\",\n                marginLeft: -this.options.size / 2 + \"px\",\n                marginTop: -this.options.size / 2 + \"px\",\n                background: this.options.color,\n                opacity: \".5\"\n            }, t.front = {\n                width: this.options.size / 2 + \"px\",\n                height: this.options.size / 2 + \"px\",\n                position: \"absolute\",\n                display: \"block\",\n                marginLeft: -this.options.size / 4 + \"px\",\n                marginTop: -this.options.size / 4 + \"px\",\n                background: this.options.color,\n                opacity: \".5\"\n            }, a(t.el, e), \"circle\" === this.options.shape && a(t.back, i), a(t.front, i), this.applyStyles(t), this\n        }, w.prototype.applyStyles = function(t) {\n            for (var i in this.ui)\n                if (this.ui.hasOwnProperty(i))\n                    for (var e in t[i]) this.ui[i].style[e] = t[i][e];\n            return this\n        }, w.prototype.addToDom = function() {\n            return this.options.dataOnly || document.body.contains(this.ui.el) || this.options.zone.appendChild(this.ui.el), this\n        }, w.prototype.removeFromDom = function() {\n            return this.options.dataOnly || !document.body.contains(this.ui.el) || this.options.zone.removeChild(this.ui.el), this\n        }, w.prototype.destroy = function() {\n            clearTimeout(this.removeTimeout), clearTimeout(this.showTimeout), clearTimeout(this.restTimeout), this.trigger(\"destroyed\", this.instance), this.removeFromDom(), this.off()\n        }, w.prototype.show = function(t) {\n            var i = this;\n            return i.options.dataOnly || (clearTimeout(i.removeTimeout), clearTimeout(i.showTimeout), clearTimeout(i.restTimeout), i.addToDom(), i.restCallback(), setTimeout(function() {\n                i.ui.el.style.opacity = 1\n            }, 0), i.showTimeout = setTimeout(function() {\n                i.trigger(\"shown\", i.instance), \"function\" == typeof t && t.call(this)\n            }, i.options.fadeTime)), i\n        }, w.prototype.hide = function(i) {\n            var e = this;\n            return e.options.dataOnly || (e.ui.el.style.opacity = e.options.restOpacity, clearTimeout(e.removeTimeout), clearTimeout(e.showTimeout), clearTimeout(e.restTimeout), e.removeTimeout = setTimeout(function() {\n                var t = \"dynamic\" === e.options.mode ? \"none\" : \"block\";\n                e.ui.el.style.display = t, \"function\" == typeof i && i.call(e), e.trigger(\"hidden\", e.instance)\n            }, e.options.fadeTime), e.options.restJoystick && e.setPosition(i, {\n                x: 0,\n                y: 0\n            })), e\n        }, w.prototype.setPosition = function(t, i) {\n            var e = this;\n            e.frontPosition = {\n                x: i.x,\n                y: i.y\n            };\n            var o = e.options.fadeTime + \"ms\",\n                i = {};\n            i.front = p(\"transition\", [\"top\", \"left\"], o);\n            o = {\n                front: {}\n            };\n            o.front = {\n                left: e.frontPosition.x + \"px\",\n                top: e.frontPosition.y + \"px\"\n            }, e.applyStyles(i), e.applyStyles(o), e.restTimeout = setTimeout(function() {\n                \"function\" == typeof t && t.call(e), e.restCallback()\n            }, e.options.fadeTime)\n        }, w.prototype.restCallback = function() {\n            var t = {};\n            t.front = p(\"transition\", \"none\", \"\"), this.applyStyles(t), this.trigger(\"rested\", this.instance)\n        }, w.prototype.resetDirection = function() {\n            this.direction = {\n                x: !1,\n                y: !1,\n                angle: !1\n            }\n        }, w.prototype.computeDirection = function(t) {\n            var i, e, o, n = t.angle.radian,\n                s = Math.PI / 4,\n                r = Math.PI / 2;\n            if (s < n && n < 3 * s && !t.lockX ? i = \"up\" : -s < n && n <= s && !t.lockY ? i = \"left\" : 3 * -s < n && n <= -s && !t.lockX ? i = \"down\" : t.lockY || (i = \"right\"), t.lockY || (e = -r < n && n < r ? \"left\" : \"right\"), t.lockX || (o = 0 < n ? \"up\" : \"down\"), t.force > this.options.threshold) {\n                var d, p = {};\n                for (d in this.direction) this.direction.hasOwnProperty(d) && (p[d] = this.direction[d]);\n                var a = {};\n                for (d in this.direction = {\n                        x: e,\n                        y: o,\n                        angle: i\n                    }, t.direction = this.direction, p) p[d] === this.direction[d] && (a[d] = !0);\n                if (a.x && a.y && a.angle) return t;\n                a.x && a.y || this.trigger(\"plain\", t), a.x || this.trigger(\"plain:\" + e, t), a.y || this.trigger(\"plain:\" + o, t), a.angle || this.trigger(\"dir dir:\" + i, t)\n            } else this.resetDirection();\n            return t\n        };\n        var _ = w;\n        function T(t, i) {\n            return this.nipples = [], this.idles = [], this.actives = [], this.ids = [], this.pressureIntervals = {}, this.manager = t, this.id = T.id, T.id += 1, this.defaults = {\n                zone: document.body,\n                multitouch: !1,\n                maxNumberOfNipples: 10,\n                mode: \"dynamic\",\n                position: {\n                    top: 0,\n                    left: 0\n                },\n                catchDistance: 200,\n                size: 100,\n                threshold: .1,\n                color: \"white\",\n                fadeTime: 250,\n                dataOnly: !1,\n                restJoystick: !0,\n                restOpacity: .5,\n                lockX: !1,\n                lockY: !1,\n                shape: \"circle\",\n                dynamicPage: !1,\n                follow: !1\n            }, this.config(i), \"static\" !== this.options.mode && \"semi\" !== this.options.mode || (this.options.multitouch = !1), this.options.multitouch || (this.options.maxNumberOfNipples = 1), this.updateBox(), this.prepareNipples(), this.bindings(), this.begin(), this.nipples\n        }\n        T.prototype = new e, (T.constructor = T).id = 0, T.prototype.prepareNipples = function() {\n            var o = this.nipples;\n            o.on = this.on.bind(this), o.off = this.off.bind(this), o.options = this.options, o.destroy = this.destroy.bind(this), o.ids = this.ids, o.id = this.id, o.processOnMove = this.processOnMove.bind(this), o.processOnEnd = this.processOnEnd.bind(this), o.get = function(t) {\n                if (void 0 === t) return o[0];\n                for (var i = 0, e = o.length; i < e; i += 1)\n                    if (o[i].identifier === t) return o[i];\n                return !1\n            }\n        }, T.prototype.bindings = function() {\n            this.bindEvt(this.options.zone, \"start\"), this.options.zone.style.touchAction = \"none\", this.options.zone.style.msTouchAction = \"none\"\n        }, T.prototype.begin = function() {\n            var t = this.options;\n            \"static\" === t.mode && ((t = this.createNipple(t.position, this.manager.getIdentifier())).add(), this.idles.push(t))\n        }, T.prototype.createNipple = function(t, i) {\n            var e, o, n = this.manager.scroll,\n                s = {},\n                r = this.options;\n            t.x && t.y ? s = {\n                x: t.x - (n.x + this.box.left),\n                y: t.y - (n.y + this.box.top)\n            } : (t.top || t.right || t.bottom || t.left) && ((e = document.createElement(\"DIV\")).style.display = \"hidden\", e.style.top = t.top, e.style.right = t.right, e.style.bottom = t.bottom, e.style.left = t.left, e.style.position = \"absolute\", r.zone.appendChild(e), o = e.getBoundingClientRect(), r.zone.removeChild(e), s = t, t = {\n                x: o.left + n.x,\n                y: o.top + n.y\n            });\n            t = new _(this, {\n                color: r.color,\n                size: r.size,\n                threshold: r.threshold,\n                fadeTime: r.fadeTime,\n                dataOnly: r.dataOnly,\n                restJoystick: r.restJoystick,\n                restOpacity: r.restOpacity,\n                mode: r.mode,\n                identifier: i,\n                position: t,\n                zone: r.zone,\n                frontPosition: {\n                    x: 0,\n                    y: 0\n                },\n                shape: r.shape\n            });\n            return r.dataOnly || (x(t.ui.el, s), x(t.ui.front, t.frontPosition)), this.nipples.push(t), this.trigger(\"added \" + t.identifier + \":added\", t), this.manager.trigger(\"added \" + t.identifier + \":added\", t), this.bindNipple(t), t\n        }, T.prototype.updateBox = function() {\n            this.box = this.options.zone.getBoundingClientRect()\n        }, T.prototype.bindNipple = function(t) {\n            function i(t, i) {\n                e = t.type + \" \" + i.id + \":\" + t.type, o.trigger(e, i)\n            }\n            var e, o = this;\n            t.on(\"destroyed\", o.onDestroyed.bind(o)), t.on(\"shown hidden rested dir plain\", i), t.on(\"dir:up dir:right dir:down dir:left\", i), t.on(\"plain:up plain:right plain:down plain:left\", i)\n        }, T.prototype.pressureFn = function(i, e, t) {\n            var o = this,\n                n = 0;\n            clearInterval(o.pressureIntervals[t]), o.pressureIntervals[t] = setInterval(function() {\n                var t = i.force || i.pressure || i.webkitForce || 0;\n                t !== n && (e.trigger(\"pressure\", t), o.trigger(\"pressure \" + e.identifier + \":pressure\", t), n = t)\n            }.bind(o), 100)\n        }, T.prototype.onstart = function(e) {\n            var o = this,\n                i = o.options,\n                n = e;\n            return e = r(e), o.updateBox(), c(e, function(t) {\n                o.actives.length < i.maxNumberOfNipples ? o.processOnStart(t) : n.type.match(/^touch/) && (Object.keys(o.manager.ids).forEach(function(i) {\n                    var t;\n                    Object.values(n.touches).findIndex(function(t) {\n                        return t.identifier === i\n                    }) < 0 && ((t = [e[0]]).identifier = i, o.processOnEnd(t))\n                }), o.actives.length < i.maxNumberOfNipples && o.processOnStart(t))\n            }), o.manager.bindDocument(), !1\n        }, T.prototype.processOnStart = function(i) {\n            var e = this,\n                t = e.options,\n                o = e.manager.getIdentifier(i),\n                n = i.force || i.pressure || i.webkitForce || 0,\n                s = {\n                    x: i.pageX,\n                    y: i.pageY\n                },\n                r = e.getOrCreate(o, s);\n            r.identifier !== o && e.manager.removeIdentifier(r.identifier), r.identifier = o;\n            function d(t) {\n                t.trigger(\"start\", t), e.trigger(\"start \" + t.id + \":start\", t), t.show(), 0 < n && e.pressureFn(i, t, t.identifier), e.processOnMove(i)\n            }\n            if (0 <= (o = e.idles.indexOf(r)) && e.idles.splice(o, 1), e.actives.push(r), e.ids.push(r.identifier), \"semi\" !== t.mode) d(r);\n            else {\n                if (!(v(s, r.position) <= t.catchDistance)) return r.destroy(), void e.processOnStart(i);\n                d(r)\n            }\n            return r\n        }, T.prototype.getOrCreate = function(t, i) {\n            var e, o = this.options;\n            return /(semi|static)/.test(o.mode) ? (e = this.idles[0]) ? (this.idles.splice(0, 1), e) : \"semi\" === o.mode ? this.createNipple(i, t) : (console.warn(\"Coudln't find the needed nipple.\"), !1) : e = this.createNipple(i, t)\n        }, T.prototype.processOnMove = function(t) {\n            var i = this.options,\n                e = this.manager.getIdentifier(t),\n                o = this.nipples.get(e),\n                n = this.manager.scroll;\n            if (u = t, isNaN(u.buttons) ? 0 !== u.pressure : 0 !== u.buttons) {\n                if (!o) return console.error(\"Found zombie joystick with ID \" + e), void this.manager.removeIdentifier(e);\n                i.dynamicPage && (f = o.el.getBoundingClientRect(), o.position = {\n                    x: n.x + f.left,\n                    y: n.y + f.top\n                }), o.identifier = e;\n                var s = o.options.size / 2,\n                    r = {\n                        x: t.pageX,\n                        y: t.pageY\n                    };\n                i.lockX && (r.y = o.position.y), i.lockY && (r.x = o.position.x);\n                var d, p, a, c, l, h = v(r, o.position),\n                    u = (p = (y = o.position).x - r.x, d = y.y - r.y, Math.atan2(d, p) * (180 / Math.PI)),\n                    f = b(u),\n                    e = h / s,\n                    y = {\n                        distance: h,\n                        position: r\n                    };\n                \"circle\" === o.options.shape ? (g = Math.min(h, s), d = o.position, p = g, a = {\n                    x: 0,\n                    y: 0\n                }, m = b(m = u), a.x = d.x - p * Math.cos(m), a.y = d.y - p * Math.sin(m), m = a) : (a = r, c = o.position, l = s, m = {\n                    x: Math.min(Math.max(a.x, c.x - l), c.x + l),\n                    y: Math.min(Math.max(a.y, c.y - l), c.y + l)\n                }, g = v(m, o.position)), i.follow ? s < h && (c = r.x - m.x, l = r.y - m.y, o.position.x += c, o.position.y += l, o.el.style.top = o.position.y - (this.box.top + n.y) + \"px\", o.el.style.left = o.position.x - (this.box.left + n.x) + \"px\", h = v(r, o.position)) : (r = m, h = g);\n                var m = r.x - o.position.x,\n                    g = r.y - o.position.y;\n                o.frontPosition = {\n                    x: m,\n                    y: g\n                }, i.dataOnly || x(o.ui.front, o.frontPosition);\n                i = {\n                    identifier: o.identifier,\n                    position: r,\n                    force: e,\n                    pressure: t.force || t.pressure || t.webkitForce || 0,\n                    distance: h,\n                    angle: {\n                        radian: f,\n                        degree: u\n                    },\n                    vector: {\n                        x: m / s,\n                        y: -g / s\n                    },\n                    raw: y,\n                    instance: o,\n                    lockX: i.lockX,\n                    lockY: i.lockY\n                };\n                (i = o.computeDirection(i)).angle = {\n                    radian: b(180 - u),\n                    degree: 180 - u\n                }, o.trigger(\"move\", i), this.trigger(\"move \" + o.id + \":move\", i)\n            } else this.processOnEnd(t)\n        }, T.prototype.processOnEnd = function(t) {\n            var i = this,\n                e = i.options,\n                t = i.manager.getIdentifier(t),\n                o = i.nipples.get(t),\n                t = i.manager.removeIdentifier(o.identifier);\n            o && (e.dataOnly || o.hide(function() {\n                \"dynamic\" === e.mode && (o.trigger(\"removed\", o), i.trigger(\"removed \" + o.id + \":removed\", o), i.manager.trigger(\"removed \" + o.id + \":removed\", o), o.destroy())\n            }), clearInterval(i.pressureIntervals[o.identifier]), o.resetDirection(), o.trigger(\"end\", o), i.trigger(\"end \" + o.id + \":end\", o), 0 <= i.ids.indexOf(o.identifier) && i.ids.splice(i.ids.indexOf(o.identifier), 1), 0 <= i.actives.indexOf(o) && i.actives.splice(i.actives.indexOf(o), 1), /(semi|static)/.test(e.mode) ? i.idles.push(o) : 0 <= i.nipples.indexOf(o) && i.nipples.splice(i.nipples.indexOf(o), 1), i.manager.unbindDocument(), /(semi|static)/.test(e.mode) && (i.manager.ids[t.id] = t.identifier))\n        }, T.prototype.onDestroyed = function(t, i) {\n            0 <= this.nipples.indexOf(i) && this.nipples.splice(this.nipples.indexOf(i), 1), 0 <= this.actives.indexOf(i) && this.actives.splice(this.actives.indexOf(i), 1), 0 <= this.idles.indexOf(i) && this.idles.splice(this.idles.indexOf(i), 1), 0 <= this.ids.indexOf(i.identifier) && this.ids.splice(this.ids.indexOf(i.identifier), 1), this.manager.removeIdentifier(i.identifier), this.manager.unbindDocument()\n        }, T.prototype.destroy = function() {\n            for (var t in this.unbindEvt(this.options.zone, \"start\"), this.nipples.forEach(function(t) {\n                    t.destroy()\n                }), this.pressureIntervals) this.pressureIntervals.hasOwnProperty(t) && clearInterval(this.pressureIntervals[t]);\n            this.trigger(\"destroyed\", this.nipples), this.manager.unbindDocument(), this.off()\n        };\n        var k = T;\n        function P(t) {\n            var e = this;\n            e.ids = {}, e.index = 0, e.collections = [], e.scroll = d(), e.config(t), e.prepareCollections();\n            function i() {\n                var i;\n                e.collections.forEach(function(t) {\n                    t.forEach(function(t) {\n                        i = t.el.getBoundingClientRect(), t.position = {\n                            x: e.scroll.x + i.left,\n                            y: e.scroll.y + i.top\n                        }\n                    })\n                })\n            }\n            s(window, \"resize\", function() {\n                n(i)\n            });\n            function o() {\n                e.scroll = d()\n            }\n            return s(window, \"scroll\", function() {\n                n(o)\n            }), e.collections\n        }\n        P.prototype = new e, (P.constructor = P).prototype.prepareCollections = function() {\n            var t = this;\n            t.collections.create = t.create.bind(t), t.collections.on = t.on.bind(t), t.collections.off = t.off.bind(t), t.collections.destroy = t.destroy.bind(t), t.collections.get = function(i) {\n                var e;\n                return t.collections.every(function(t) {\n                    return !(e = t.get(i))\n                }), e\n            }\n        }, P.prototype.create = function(t) {\n            return this.createCollection(t)\n        }, P.prototype.createCollection = function(t) {\n            t = new k(this, t);\n            return this.bindCollection(t), this.collections.push(t), t\n        }, P.prototype.bindCollection = function(t) {\n            function i(t, i) {\n                e = t.type + \" \" + i.id + \":\" + t.type, o.trigger(e, i)\n            }\n            var e, o = this;\n            t.on(\"destroyed\", o.onDestroyed.bind(o)), t.on(\"shown hidden rested dir plain\", i), t.on(\"dir:up dir:right dir:down dir:left\", i), t.on(\"plain:up plain:right plain:down plain:left\", i)\n        }, P.prototype.bindDocument = function() {\n            this.binded || (this.bindEvt(document, \"move\").bindEvt(document, \"end\"), this.binded = !0)\n        }, P.prototype.unbindDocument = function(t) {\n            Object.keys(this.ids).length && !0 !== t || (this.unbindEvt(document, \"move\").unbindEvt(document, \"end\"), this.binded = !1)\n        }, P.prototype.getIdentifier = function(t) {\n            var i;\n            return t ? void 0 === (i = void 0 === t.identifier ? t.pointerId : t.identifier) && (i = this.latest || 0) : i = this.index, void 0 === this.ids[i] && (this.ids[i] = this.index, this.index += 1), this.latest = i, this.ids[i]\n        }, P.prototype.removeIdentifier = function(t) {\n            var i, e = {};\n            for (i in this.ids)\n                if (this.ids[i] === t) {\n                    e.id = i, e.identifier = this.ids[i], delete this.ids[i];\n                    break\n                } return e\n        }, P.prototype.onmove = function(t) {\n            return this.onAny(\"move\", t), !1\n        }, P.prototype.onend = function(t) {\n            return this.onAny(\"end\", t), !1\n        }, P.prototype.oncancel = function(t) {\n            return this.onAny(\"end\", t), !1\n        }, P.prototype.onAny = function(t, i) {\n            var e, o = this,\n                n = \"processOn\" + t.charAt(0).toUpperCase() + t.slice(1);\n            return i = r(i), c(i, function(t) {\n                e = o.getIdentifier(t), c(o.collections, function(t, i, e) {\n                    0 <= e.ids.indexOf(i) && (e[n](t), t._found_ = !0)\n                }.bind(null, t, e)), t._found_ || o.removeIdentifier(e)\n            }), !1\n        }, P.prototype.destroy = function() {\n            this.unbindDocument(!0), this.ids = {}, this.index = 0, this.collections.forEach(function(t) {\n                t.destroy()\n            }), this.off()\n        }, P.prototype.onDestroyed = function(t, i) {\n            if (this.collections.indexOf(i) < 0) return !1;\n            this.collections.splice(this.collections.indexOf(i), 1)\n        };\n        var E = new P;\n        i.default = {\n            create: function(t) {\n                return E.create(t)\n            },\n            factory: E\n        }\n    }], n.c = o, n.d = function(t, i, e) {\n        n.o(t, i) || Object.defineProperty(t, i, {\n            enumerable: !0,\n            get: e\n        })\n    }, n.r = function(t) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n            value: \"Module\"\n        }), Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        })\n    }, n.t = function(i, t) {\n        if (1 & t && (i = n(i)), 8 & t) return i;\n        if (4 & t && \"object\" == typeof i && i && i.__esModule) return i;\n        var e = Object.create(null);\n        if (n.r(e), Object.defineProperty(e, \"default\", {\n                enumerable: !0,\n                value: i\n            }), 2 & t && \"string\" != typeof i)\n            for (var o in i) n.d(e, o, function(t) {\n                return i[t]\n            }.bind(null, o));\n        return e\n    }, n.n = function(t) {\n        var i = t && t.__esModule ? function() {\n            return t.default\n        } : function() {\n            return t\n        };\n        return n.d(i, \"a\", i), i\n    }, n.o = function(t, i) {\n        return Object.prototype.hasOwnProperty.call(t, i)\n    }, n.p = \"\", n(n.s = 0).default;\n    function n(t) {\n        if (o[t]) return o[t].exports;\n        var i = o[t] = {\n            i: t,\n            l: !1,\n            exports: {}\n        };\n        return e[t].call(i.exports, i, i.exports, n), i.l = !0, i.exports\n    }\n    var e, o\n});\n\ngdjs._nipplejs  = nipplejs\ngdjs._nippleDir = ang =>{\n    if( ang > 337.5 ) return \"right\"\n    if( ang < 22.5 ) return \"right\"\n    if( ang < 337.5 && ang > 292.5 ) return \"right+down\"\n    if( ang < 292.5 && ang > 247.5 ) return \"down\"\n    if( ang < 247.5 && ang > 202.5 ) return \"left+down\"\n    if( ang < 202.5 && ang > 157.5 ) return \"left\"\n    if( ang < 157.5 && ang > 112.5 ) return \"left+top\"\n    if( ang < 112.5 && ang > 67.5 ) return \"top\"\n    if( ang < 67.5 && ang >  22.5 ) return \"top+right\"\n}","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[],"objectGroups":[]},{"description":"Create virtual joystick","fullName":"Create virtual joystick","functionType":"Action","group":"","name":"add","private":false,"sentence":"Add nipple _PARAM1_ size _PARAM6_ on position X _PARAM2_ and Y _PARAM3_ - Width: _PARAM4_ Height _PARAM5_ Background _PARAM8_ Type _PARAM7_; Debug _PARAM9_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\nlet TYPE     = eventsFunctionContext.getArgument(\"Type\")\nlet SIZE     = eventsFunctionContext.getArgument(\"Size\")\nlet DEBUG    = eventsFunctionContext.getArgument(\"Debug\")\nlet X = eventsFunctionContext.getArgument(\"X\")\nlet Y = eventsFunctionContext.getArgument(\"Y\")\nlet W = eventsFunctionContext.getArgument(\"W\")\nlet H = eventsFunctionContext.getArgument(\"H\")\nlet BG = eventsFunctionContext.getArgument(\"BG\").split(\";\").join(\",\")\nlet nipple   = document.createElement('div')\nnipple.id = `_joystick_${APP_NAME}`\n// nipple.setAttribute(\"style\", `\n//     position: absolute;\n//     width: ${W};\n//     height: ${H};\n//     left: ${X};\n//     top: ${Y};\n//     background: rgba(${BG}, 0${DEBUG ? '.05': ''});\n// `)\nnipple.style.position = \"absolute\"\nnipple.style.width = W\nnipple.style.height = H\nnipple.style.left = X\nnipple.style.top = Y\nnipple.style.background = `rgba(${BG}, 0${DEBUG ? '.05': ''})`\ndocument.querySelector('body').appendChild(nipple)\n\nvar options = {\n    zone: document.querySelector(`#_joystick_${APP_NAME}`),\n    mode: TYPE,\n    size: SIZE,\n    position: {\n      left: '50%',\n      top: '50%'\n    },\n    color: `rgba(${BG}, 1)`\n};\nvar manager = nipplejs.create(options);\nconst getDir = ang =>{\n    if( ang > 337.5 ) return \"right\"\n    if( ang < 22.5 ) return \"right\"\n    if( ang < 337.5 && ang > 292.5 ) return \"right+down\"\n    if( ang < 292.5 && ang > 247.5 ) return \"down\"\n    if( ang < 247.5 && ang > 202.5 ) return \"left+down\"\n    if( ang < 202.5 && ang > 157.5 ) return \"left\"\n    if( ang < 157.5 && ang > 112.5 ) return \"left+top\"\n    if( ang < 112.5 && ang > 67.5 ) return \"top\"\n    if( ang < 67.5 && ang >  22.5 ) return \"top+right\"\n    return ang\n}\nruntimeScene.getVariables().add(APP_NAME+\"_ANGLE\")\nruntimeScene.getVariables().add(APP_NAME+\"_PRESS\")\nruntimeScene.getVariables().add(APP_NAME+\"_DIR\")\nruntimeScene.getVariables().add(APP_NAME+\"_DIS\")\nruntimeScene.getVariables().add(APP_NAME+\"_T\")\nruntimeScene.getVariables().add(APP_NAME+\"_D\")\nruntimeScene.getVariables().add(APP_NAME+\"_R\")\nruntimeScene.getVariables().add(APP_NAME+\"_L\")\nmanager.on('move', (evt, data) =>{\n    let dir = getDir(data.angle.degree)\n    runtimeScene.getVariables().get(APP_NAME+\"_ANGLE\").setString(data.angle.degree)\n    runtimeScene.getVariables().get(APP_NAME+\"_DIR\").setString(dir)\n    runtimeScene.getVariables().get(APP_NAME+\"_DIS\").setValue(parseInt(data.distance))\n    runtimeScene.getVariables().get(APP_NAME+\"_PRESS\").setValue(dir.includes(\"+\") ? 2 : 1)\n    runtimeScene.getVariables().get(APP_NAME+\"_T\").setBoolean(dir.includes(\"top\")) \n    runtimeScene.getVariables().get(APP_NAME+\"_D\").setBoolean(dir.includes(\"down\")) \n    runtimeScene.getVariables().get(APP_NAME+\"_R\").setBoolean(dir.includes(\"right\")) \n    runtimeScene.getVariables().get(APP_NAME+\"_L\").setBoolean(dir.includes(\"left\")) \n})\n\nmanager.on('end', (evt, data) =>{\n    runtimeScene.getVariables().get(APP_NAME+\"_ANGLE\").setValue(0)\n    runtimeScene.getVariables().get(APP_NAME+\"_DIS\").setValue(0)\n    runtimeScene.getVariables().get(APP_NAME+\"_PRESS\").setValue(0)\n    runtimeScene.getVariables().get(APP_NAME+\"_T\").setBoolean(false) \n    runtimeScene.getVariables().get(APP_NAME+\"_D\").setBoolean(false) \n    runtimeScene.getVariables().get(APP_NAME+\"_R\").setBoolean(false) \n    runtimeScene.getVariables().get(APP_NAME+\"_L\").setBoolean(false) \n})\n","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"X position (use px or % - this is a css position)","longDescription":"","name":"X","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Y position  (use px or % - this is a css position)","longDescription":"","name":"Y","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Container Width (use px or % - this is a css size)","longDescription":"","name":"W","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Container Height (use px or % - this is a css size)","longDescription":"","name":"H","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Joystick size","longDescription":"","name":"Size","optional":false,"supplementaryInformation":"","type":"expression"},{"codeOnly":false,"defaultValue":"","description":"Type of joystick (default: dynamic)","longDescription":"","name":"Type","optional":false,"supplementaryInformation":"[\"dynamic\",\"semi\",\"static\"]","type":"stringWithSelector"},{"codeOnly":false,"defaultValue":"","description":"Color","longDescription":"","name":"BG","optional":false,"supplementaryInformation":"","type":"color"},{"codeOnly":false,"defaultValue":"","description":"Debug","longDescription":"","name":"Debug","optional":false,"supplementaryInformation":"","type":"yesorno"}],"objectGroups":[]},{"description":"Remove joystick","fullName":"Remove joystick","functionType":"Action","group":"","name":"remove","private":false,"sentence":"Remove joystick _PARAM1_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]},{"type":{"inverted":false,"value":"Nipple::exist"},"parameters":["","GetArgumentAsString(\"Name\")",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\ndocument.querySelector(`#_joystick_${APP_NAME}`).remove()","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Set joystick position","fullName":"Set joystick position","functionType":"Action","group":"","name":"setPosition","private":false,"sentence":"Set joystick _PARAM1_ position _PARAM2_ ","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Nipple::exist"},"parameters":["","GetArgumentAsString(\"Name\")",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\nlet POSITION = eventsFunctionContext.getArgument(\"Position\")\nlet EL = document.querySelector(`#_joystick_${APP_NAME}`)\n// document.querySelector(`#_joystick_${APP_NAME}`).style.display = \"block\"\nswitch(POSITION){\n    case \"Top left\":\n        EL.style.top = 0\n        EL.style.left = 0\n    break\n    case \"Top center\":\n        EL.style.top = 0\n        EL.style.left = \"calc(50% - \"+EL.offsetWidth/2+\"px)\"\n    break\n    case \"Top right\":\n        EL.style.top = 0\n        EL.style.left = \"calc(100% - \"+EL.offsetWidth+\"px)\"\n    break\n    case \"Center left\":\n        EL.style.top = \"calc(50% - \"+EL.offsetHeight/2+\"px)\"\n        EL.style.left = 0\n    break\n    case \"Center center\":\n        EL.style.top = \"calc(50% - \"+EL.offsetHeight/2+\"px)\"\n        EL.style.left = \"calc(50% - \"+EL.offsetWidth/2+\"px)\"\n    break\n    case \"Center right\":\n        EL.style.top = \"calc(50% - \"+EL.offsetHeight/2+\"px)\"\n        EL.style.left = \"calc(100% - \"+EL.offsetWidth+\"px)\"\n    break\n    case \"Bottom left\":\n        EL.style.top = \"calc(100% - \"+EL.offsetHeight+\"px)\"\n        EL.style.left = 0\n    break\n    case \"Bottom center\":\n        EL.style.top = \"calc(100% - \"+EL.offsetHeight+\"px)\"\n        EL.style.left = \"calc(50% - \"+EL.offsetWidth/2+\"px)\"\n    break\n    case \"Bottom right\":\n        EL.style.top = \"calc(100% - \"+EL.offsetHeight+\"px)\"\n        EL.style.left = \"calc(100% - \"+EL.offsetWidth+\"px)\"\n    break\n}\n","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Position","longDescription":"","name":"Position","optional":false,"supplementaryInformation":"[\"Top left\",\"Top center\",\"Top right\",\"Center left\",\"Center center\",\"Center right\",\"Bottom left\",\"Bottom center\",\"Bottom right\"]","type":"stringWithSelector"}],"objectGroups":[]},{"description":"Show joystick","fullName":"Show joystick","functionType":"Action","group":"","name":"show","private":false,"sentence":"Show joystick _PARAM1_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]},{"type":{"inverted":false,"value":"Nipple::exist"},"parameters":["","GetArgumentAsString(\"Name\")",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\ndocument.querySelector(`#_joystick_${APP_NAME}`).style.display = \"block\"","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Hide joystick","fullName":"Hide joystick","functionType":"Action","group":"","name":"hide","private":false,"sentence":"Hide joystick _PARAM1_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]},{"type":{"inverted":false,"value":"Nipple::exist"},"parameters":["","GetArgumentAsString(\"Name\")",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\ndocument.querySelector(`#_joystick_${APP_NAME}`).style.display = \"none\"","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Check if joystick is hidden","fullName":"Check if joystick is hidden","functionType":"Condition","group":"","name":"isHide","private":false,"sentence":"Check if _PARAM1_ is hidden","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Nipple::exist"},"parameters":["","GetArgumentAsString(\"Name\")",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\n\neventsFunctionContext.returnValue = document.querySelector(`#_joystick_${APP_NAME}`).style.display == \"none\" || false","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Check if joystick exist","fullName":"Check if joystick exist","functionType":"Condition","group":"","name":"exist","private":false,"sentence":"Check if _PARAM1_ exist","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let APP_NAME = eventsFunctionContext.getArgument(\"Name\")\nlet check = document.querySelector(`#_joystick_${APP_NAME}`) || false\n\neventsFunctionContext.returnValue = check","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Joystick name","longDescription":"","name":"Name","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[]},{"author":"","category":"","description":"The FPS debug","extensionNamespace":"","fullName":"DevToolkit","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLWxhbmd1YWdlLWNzczMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNSwzTDQuMzUsNi4zNEgxNy45NEwxNy41LDguNUgzLjkyTDMuMjYsMTEuODNIMTYuODVMMTYuMDksMTUuNjRMMTAuNjEsMTcuNDVMNS44NiwxNS42NEw2LjE5LDE0SDIuODVMMi4wNiwxOEw5LjkxLDIxTDE4Ljk2LDE4TDIwLjE2LDExLjk3TDIwLjQsMTAuNzZMMjEuOTQsM0g1WiIgLz48L3N2Zz4=","name":"DevToolkit","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/language-css3.svg","shortDescription":"","version":"","tags":[],"authorIds":[],"dependencies":[],"eventsFunctions":[{"description":"","fullName":"","functionType":"Action","group":"","name":"onSceneLoaded","private":false,"sentence":"","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"ResetTimer"},"parameters":["","\"STATS\""],"subInstructions":[]}],"events":[]}],"parameters":[],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onFirstSceneLoaded","private":false,"sentence":"","events":[{"disabled":false,"folded":true,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).GameStats=e()}(this,(function(){\"use strict\";function t(t,e,r,i,n,a,o){try{var s=t[a](o),h=s.value}catch(t){return void r(t)}s.done?e(h):Promise.resolve(h).then(i,n)}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function r(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,r){return(a=n()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(Function.bind.apply(t,n));return r&&i(a,r.prototype),a}).apply(null,arguments)}function o(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(t,e){if(t){if(\"string\"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function l(t,e){var r;if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=s(t))||e&&t&&\"number\"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var a,o=!0,h=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){h=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(h)throw a}}}}var c=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=function(t){var e,r=Object.prototype,i=r.hasOwnProperty,n=\"function\"==typeof Symbol?Symbol:{},a=n.iterator||\"@@iterator\",o=n.asyncIterator||\"@@asyncIterator\",s=n.toStringTag||\"@@toStringTag\";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},\"\")}catch(t){h=function(t,e,r){return t[e]=r}}function l(t,e,r,i){var n=e&&e.prototype instanceof d?e:d,a=Object.create(n.prototype),o=new G(i||[]);return a._invoke=function(t,e,r){var i=f;return function(n,a){if(i===m)throw new Error(\"Generator is already running\");if(i===p){if(\"throw\"===n)throw a;return A()}for(r.method=n,r.arg=a;;){var o=r.delegate;if(o){var s=L(o,r);if(s){if(s===y)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);i=m;var h=c(t,e,r);if(\"normal\"===h.type){if(i=r.done?p:u,h.arg===y)continue;return{value:h.arg,done:r.done}}\"throw\"===h.type&&(i=p,r.method=\"throw\",r.arg=h.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=l;var f=\"suspendedStart\",u=\"suspendedYield\",m=\"executing\",p=\"completed\",y={};function d(){}function v(){}function g(){}var b={};b[a]=function(){return this};var O=Object.getPrototypeOf,T=O&&O(O(R([])));T&&T!==r&&i.call(T,a)&&(b=T);var x=g.prototype=d.prototype=Object.create(b);function _(t){[\"next\",\"throw\",\"return\"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(n,a,o,s){var h=c(t[n],t,a);if(\"throw\"!==h.type){var l=h.arg,f=l.value;return f&&\"object\"==typeof f&&i.call(f,\"__await\")?e.resolve(f.__await).then((function(t){r(\"next\",t,o,s)}),(function(t){r(\"throw\",t,o,s)})):e.resolve(f).then((function(t){l.value=t,o(l)}),(function(t){return r(\"throw\",t,o,s)}))}s(h.arg)}var n;this._invoke=function(t,i){function a(){return new e((function(e,n){r(t,i,e,n)}))}return n=n?n.then(a,a):a()}}function L(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,\"throw\"===r.method){if(t.iterator.return&&(r.method=\"return\",r.arg=e,L(t,r),\"throw\"===r.method))return y;r.method=\"throw\",r.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return y}var n=c(i,t.iterator,r.arg);if(\"throw\"===n.type)return r.method=\"throw\",r.arg=n.arg,r.delegate=null,y;var a=n.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,\"return\"!==r.method&&(r.method=\"next\",r.arg=e),r.delegate=null,y):a:(r.method=\"throw\",r.arg=new TypeError(\"iterator result is not an object\"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function G(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(S,this),this.reset(!0)}function R(t){if(t){var r=t[a];if(r)return r.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:A}}function A(){return{value:e,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,v.displayName=h(g,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===v||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,h(t,s,\"GeneratorFunction\")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(w.prototype),w.prototype[o]=function(){return this},t.AsyncIterator=w,t.async=function(e,r,i,n,a){void 0===a&&(a=Promise);var o=new w(l(e,r,i,n),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(x),h(x,s,\"Generator\"),x[a]=function(){return this},x.toString=function(){return\"[object Generator]\"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=R,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)\"t\"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return s.type=\"throw\",s.arg=t,r.next=i,n&&(r.method=\"next\",r.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var h=i.call(o,\"catchLoc\"),l=i.call(o,\"finallyLoc\");if(h&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var a=n;break}}a&&(\"break\"===t||\"continue\"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method=\"next\",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if(\"throw\"===i.type){var n=i.arg;C(r)}return n}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,r,i){return this.delegate={iterator:R(t),resultName:r,nextLoc:i},\"next\"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function(\"r\",\"regeneratorRuntime = r\")(e)}})),f=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,i);var r={autoPlace:!0,targetFPS:60,redrawInterval:50,maximumHistory:100,scale:1,memoryUpdateInterval:1e3,memoryMaxHistory:600,FONT_FAMILY:\"Arial\",COLOR_FPS_BAR:\"#34cfa2\",COLOR_FPS_AVG:\"#FFF\",COLOR_TEXT_LABEL:\"#FFF\",COLOR_TEXT_TO_LOW:\"#eee207\",COLOR_TEXT_BAD:\"#d34646\",COLOR_TEXT_TARGET:\"#d249dd\",COLOR_BG:\"#333333\"};this.config=Object.assign(r,t),this.dom,this.canvas,this.ctx,this.currentTime,this.prevTime,this.shown=!0,this.lastMSAverage,this.lastMemoryMeasure=-Number.POSITIVE_INFINITY,this.labels={},this.labelColors={ms:this.config.COLOR_FPS_BAR,memory:this.config.COLOR_FPS_BAR},this.labelOrder=[],this.graphYOffset=0,this.extensions={},this.config.baseCanvasWidth=100*this.config.scale,this.config.baseCanvasHeight=150*this.config.scale,this.msGraph={width:this.config.baseCanvasWidth,height:.4*this.config.baseCanvasHeight,drawY:.16*this.config.baseCanvasHeight,barWidth:this.config.baseCanvasWidth/this.config.maximumHistory},this.memoryGraph={width:this.config.baseCanvasWidth,height:.2*this.config.baseCanvasHeight,drawY:.76*this.config.baseCanvasHeight,barWidth:this.config.baseCanvasWidth/this.config.memoryMaxHistory},this.init()}var n,s,h,f,m;return n=i,(s=[{key:\"init\",value:function(){this.canvas=document.createElement(\"canvas\"),this.canvas.width=this.config.baseCanvasWidth,this.canvas.height=this.config.baseCanvasHeight,this.canvas.style.cssText=\"width:\".concat(this.config.baseCanvasWidth*this.config.scale,\"px;height:\").concat(this.config.baseCanvasHeight*this.config.scale,\"px;background-color:\").concat(this.config.COLOR_BG),this.ctx=this.canvas.getContext(\"2d\"),this.dom=document.createElement(\"div\"),this.dom.appendChild(this.canvas),this.dom.setAttribute(\"data\",\"gamestats\"),this.dom.style.cssText=\"position:fixed;left:0;top:0;display: flex;flex-direction: column;gap: 5px;\",this.config.autoPlace&&document.body.appendChild(this.dom),performance&&performance.memory&&(this.labels.memory=[]),this.update=this.update.bind(this),this.update()}},{key:\"begin\",value:function(t,e){if([\"ms\",\"fps\",\"memory\"].includes(t))throw\"jsgraphy: label \".concat(t,\" is reserved\");t||(t=\"ms\"),\"ms\"===t&&this.currentTime&&(this.prevTime=this.currentTime),\"ms\"===t||this.labelColors[t]||(this.labelColors[t]=e||this.stringToColor(t),this.labelOrder.push(t)),this.labels[t]||(this.labels[t]=[]);var r=this.labels[t];if(r.push(performance.now()),r.length>this.config.maximumHistory&&r.shift(),\"ms\"===t&&(this.currentTime=performance.now(),this.prevTime)){this.labels.fps||(this.labels.fps=[]);var i=this.labels.fps;i.push(this.currentTime-this.prevTime),i.length>this.config.maximumHistory&&i.shift()}}},{key:\"show\",value:function(t){this.shown=t,this.dom.style.display=t?\"flex\":\"none\"}},{key:\"end\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"ms\",e=this.labels[t];if(e){var r=e[e.length-1];e[e.length-1]=performance.now()-r}if(\"ms\"===t)for(var i in this.extensions)this.extensions[i].endFrame()}},{key:\"update\",value:function(){if(this.shown&&this.draw(),performance&&performance.memory&&performance.now()-this.lastMemoryMeasure>this.config.memoryUpdateInterval){var t=this.labels.memory;t.push(performance.memory.usedJSHeapSize/u),t.length>this.config.memoryMaxHistory&&t.shift(),this.lastMemoryMeasure=performance.now()}for(var e in this.canvas&&this.canvas.parentNode&&setTimeout(this.update,this.config.redrawInterval),this.extensions)this.extensions[e].update()}},{key:\"draw\",value:function(){if(this.prevTime){var t=this.ctx,e=t.getImageData(1,0,t.canvas.width-this.msGraph.barWidth,t.canvas.height);t.putImageData(e,0,0),t.clearRect(t.canvas.width-this.msGraph.barWidth,0,this.msGraph.barWidth,t.canvas.height),t.clearRect(0,0,t.canvas.width,.16*t.canvas.height),performance.memory&&t.clearRect(0,.6*t.canvas.height,t.canvas.width,.16*t.canvas.height),this.drawGraph(\"ms\",1e3/this.config.targetFPS),this.drawFPS(),this.graphYOffset=0;var r,i=l(this.labelOrder);try{for(i.s();!(r=i.n()).done;){var n=r.value;this.drawGraph(n,this.previousMaxMS,!0)}}catch(t){i.e(t)}finally{i.f()}this.drawLines(),performance&&performance.memory&&this.drawMemory()}}},{key:\"drawLines\",value:function(){var t=this.config,e=this.ctx,r=1e3/t.targetFPS,i=this.previousAverageMS,n=this.previousMaxMS;e.fillStyle=t.COLOR_FPS_AVG,i>1.66*r?e.fillStyle=t.COLOR_TEXT_BAD:i>1.33*r&&(e.fillStyle=t.COLOR_TEXT_TO_LOW);var a=i/n*this.msGraph.height,o=this.msGraph.drawY+this.msGraph.height-a;e.fillRect(this.msGraph.width-this.msGraph.barWidth,o,this.msGraph.barWidth,this.msGraph.barWidth),e.fillStyle=t.COLOR_TEXT_TARGET;var s=r/n*this.msGraph.height,h=this.msGraph.drawY+this.msGraph.height-s;e.fillRect(this.msGraph.width-this.msGraph.barWidth,h,this.msGraph.barWidth,this.msGraph.barWidth)}},{key:\"drawGraph\",value:function(t,e,r){var i=this.labels[t],n=this.getMMA(i),a=n.max,o=n.average;a=Math.max(1.5*o,a),e&&(a=Math.max(e,a));var s=this.config,h=this.ctx,l=i[i.length-1],c=0;r&&this.graphYOffset&&(c+=this.graphYOffset);var f=s.maximumHistory*this.msGraph.barWidth-this.msGraph.barWidth,u=this.msGraph.drawY,m=this.msGraph.barWidth,p=l/a*this.msGraph.height;u+=this.msGraph.height-p-c,h.globalAlpha=.5,h.fillStyle=this.labelColors[t],h.fillRect(f,u,m,p),h.globalAlpha=1,h.fillRect(f,u,m,m),r&&(this.graphYOffset=(this.graphYOffset||0)+p),\"ms\"===t&&(this.previousAverageMS=o,this.previousMaxMS=a)}},{key:\"drawFPS\",value:function(){var t=this.ctx,e=this.config,r=this.labels.fps;if(r){var i=this.getMMA(r),n=i.min,a=i.max,o=i.average,s=Math.round(1e3/o),h=Math.round(1e3/n),l=Math.round(1e3/a),c=this.labels.ms,f=c[c.length-1].toFixed(1),u=Math.round(1e3/r[r.length-1]),m=.01*e.baseCanvasHeight;t.textAlign=\"left\";var p=.09*e.baseCanvasWidth;t.font=\"\".concat(p,\"px \").concat(e.FONT_FAMILY),t.textBaseline=\"top\",t.fillStyle=e.COLOR_TEXT_LABEL,t.fillText(\"avg min max\",m,m),p=.12*e.baseCanvasWidth,u<.33*e.targetFPS?t.fillStyle=e.COLOR_TEXT_BAD:u<.66*e.targetFPS&&(t.fillStyle=e.COLOR_TEXT_TO_LOW),t.font=\"\".concat(p,\"px \").concat(e.FONT_FAMILY),t.textAlign=\"right\",t.fillText(\"\".concat(u,\" fps\"),e.baseCanvasWidth-m,m),p=.1*e.baseCanvasWidth,t.font=\"\".concat(p,\"px \").concat(e.FONT_FAMILY);var y=.12*e.baseCanvasWidth;t.fillText(\"\".concat(f,\"ms\"),e.baseCanvasWidth-m,y+m),p=.09*e.baseCanvasWidth,t.font=\"\".concat(p,\"px \").concat(e.FONT_FAMILY);var d=.175*e.baseCanvasWidth,v=.1*e.baseCanvasWidth,g=.33*e.targetFPS,b=.66*e.targetFPS;t.fillStyle=e.COLOR_FPS_BAR,s<g?t.fillStyle=e.COLOR_TEXT_BAD:s<b&&(t.fillStyle=e.COLOR_TEXT_TO_LOW),t.fillText(\"\".concat(s),d-m,v+m),t.fillStyle=e.COLOR_FPS_BAR,l<g?t.fillStyle=e.COLOR_TEXT_BAD:l<b&&(t.fillStyle=e.COLOR_TEXT_TO_LOW),t.fillText(\"\".concat(l),2.1*d-2*m,v+m),t.fillStyle=e.COLOR_FPS_BAR,h<g?t.fillStyle=e.COLOR_TEXT_BAD:h<b&&(t.fillStyle=e.COLOR_TEXT_TO_LOW),t.fillText(\"\".concat(h),3.3*d-3*m,v+m)}}},{key:\"drawMemory\",value:function(){var t=this.config,e=this.ctx,r=.01*t.baseCanvasHeight,i=.6*t.baseCanvasHeight;e.textAlign=\"left\";var n=.09*t.baseCanvasWidth;e.font=\"\".concat(n,\"px \").concat(t.FONT_FAMILY),e.textBaseline=\"top\",e.fillStyle=t.COLOR_TEXT_LABEL,e.fillText(\"reserved\",r,i+r),e.fillStyle=t.COLOR_TEXT_TARGET,e.textAlign=\"right\";var a=(performance.memory.jsHeapSizeLimit/u).toFixed(1);e.fillText(\"\".concat(a,\"MB\"),t.baseCanvasWidth-r,i+r),e.textAlign=\"left\",e.fillStyle=t.COLOR_TEXT_LABEL,e.fillText(\"allocated\",r,1.12*i+r),e.textAlign=\"right\";var o=(performance.memory.usedJSHeapSize/u).toFixed(1);e.fillStyle=t.COLOR_FPS_BAR,o>.9*a?e.fillStyle=t.COLOR_TEXT_BAD:o>.66*a&&(e.fillStyle=t.COLOR_TEXT_TO_LOW),e.fillText(\"\".concat(o,\"MB\"),t.baseCanvasWidth-r,1.12*i+r);var s=performance.memory.jsHeapSizeLimit/u,h=this.labels.memory,l=h[h.length-1],c=this.memoryGraph.width-6*this.memoryGraph.barWidth,f=this.memoryGraph.drawY,m=6*this.memoryGraph.barWidth,p=l/s*this.memoryGraph.height;f+=this.memoryGraph.height-p,e.globalAlpha=.5,e.fillStyle=this.labelColors.memory,e.fillRect(c,f,m,p),e.globalAlpha=1,e.fillRect(c,f,m,m);var y=this.getMMA(this.labels.memory).average;e.fillStyle=t.COLOR_FPS_AVG,y>.9*s?e.fillStyle=t.COLOR_TEXT_BAD:y>.66*s&&(e.fillStyle=t.COLOR_TEXT_TO_LOW);var d=y/s*this.memoryGraph.height,v=this.memoryGraph.drawY+this.memoryGraph.height-d;e.fillRect(this.memoryGraph.width-6*this.memoryGraph.barWidth,v,6*this.memoryGraph.barWidth,6*this.memoryGraph.barWidth),e.fillStyle=t.COLOR_TEXT_TARGET;var g=this.memoryGraph.height,b=this.memoryGraph.drawY+this.memoryGraph.height-g;e.fillRect(this.memoryGraph.width-6*this.memoryGraph.barWidth,b,6*this.memoryGraph.barWidth,6*this.memoryGraph.barWidth)}},{key:\"getMMA\",value:function(t){var e,r=Number.POSITIVE_INFINITY,i=-Number.POSITIVE_INFINITY,n=0,a=l(t);try{for(a.s();!(e=a.n()).done;){var o=e.value;o<r&&(r=o),o>i&&(i=o),n+=o}}catch(t){a.e(t)}finally{a.f()}return{min:r,max:i,average:n/=t.length}}},{key:\"stringToColor\",value:function(t){for(var e=0,r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);var i=(16777215&e).toString(16).toUpperCase();return\"#\".concat(\"00000\".substring(0,6-i.length)).concat(i)}},{key:\"enableExtension\",value:(f=c.mark((function t(e,r){var i,n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.extensions[e]){t.next=2;break}return t.abrupt(\"return\",null);case 2:return t.prev=2,t.next=5,import(\"./gamestats-\".concat(e,\".module.js\"));case 5:i=t.sent,n=a(i.default,[this].concat(o(r))),this.extensions[e]=n,t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),console.log(t.t0),t.abrupt(\"return\",null);case 14:case\"end\":return t.stop()}}),t,this,[[2,10]])})),m=function(){var e=this,r=arguments;return new Promise((function(i,n){var a=f.apply(e,r);function o(e){t(a,i,n,o,s,\"next\",e)}function s(e){t(a,i,n,o,s,\"throw\",e)}o(void 0)}))},function(t,e){return m.apply(this,arguments)})}])&&r(n.prototype,s),h&&r(n,h),i}(),u=1048576;return f}));\n\ngdjs._GameStats = new GameStats();\n\ndocument.body.appendChild( gdjs._GameStats.dom );\n\n","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"gdjs._vstats = {\n    isLoad: false,\n    app: {}, //vue app\n    getApp: () => document.querySelector(\"#_vapp\"),\n    panel: (title, val) =>{ //return html panel\n        let p = document.createElement('p')\n        p.innerHTML = `<div data-id='${title}'>${title} <span>{{ ${val} }}</span></div>`\n        return p\n    }\n}\n\nconst addScript = ( src, callback ) => {\n  var s = document.createElement( 'script' );\n  s.setAttribute( 'src', src );\n  s.onload=callback;\n  document.body.appendChild( s );\n}\n\nlet gs = document.querySelector('[data=\"gamestats\"]')\nlet app = document.createElement('div')\nlet style = document.createElement('style')\nstyle.type = 'text/css';\nstyle.appendChild(document.createTextNode(`\n    #_vapp{\n        font-family: sans-serif;\n        font-size: 10px;\n        padding: 2px;\n        background: rgb(51, 51, 51);\n        color: #fff\n    }\n    #_vapp p{\n        margin:0;\n        padding:0\n    }\n    #_vapp div span{\n        float:right\n    }\n    #_vapp pre{\n        font-size: 10px;\n        background: #0000004a;\n        margin: 0;\n        margin-top: 2px;\n        padding: 2px;\n    }\n    #_vapp input{\n        width:96px;\n        height: 8px;\n        font-size: 10px;\n        background:transparent;\n        border:none;\n        border-bottom:1px solid #565656;\n        color: #fff;\n        outline: none;\n    }\n    #_vapp button{\n        padding: 0 3px;\n        float: right;\n        height: 12px;\n        border: none;\n        margin: 0;\n        font-size: 8px;\n    }\n`))\n\napp.id = \"_vapp\"\napp.appendChild(gdjs._vstats.panel('time','now'))\napp.appendChild(gdjs._vstats.panel('instances','instances'))\napp.appendChild(gdjs._vstats.panel('sprites','sprites'))\napp.appendChild(gdjs._vstats.panel('particles','particles'))\ngs.appendChild(style)\ngs.appendChild(app)\n\n\napp.innerHTML += `\n    <template v-for=\"(item, key) in list\">\n        <p>\n            <div :style=\"item.value === '' ? 'margin-top:3px;border-top:1px solid #565656' : 'padding-left:2px' \">\n            {{ key }} <span>{{ item.value }}</span>\n            </div>\n        </p>\n    </template>\n    <pre>\n<template v-for=\"log in logs\">{{ log.log }}\\n</template>\n    </pre>\n    <input placeholder=\"$>\" v-model=\"command\" v-on:keyup.enter=\"pushCommand\">\n    <br>\n    <button onclick=\"location.reload()\">reload</button>\n`\n\naddScript('https://cdn.jsdelivr.net/npm/vue@2', ()=>{\n    gdjs._Vue = Vue\n    gdjs._vstats.app = new gdjs._Vue({\n        el: '#_vapp',\n        data(){\n            return {\n                start: 0,\n                now: 0,\n                command:'',\n                commands:[],\n                commandList:{},\n                logs:[],\n                list:{},\n                instances: runtimeScene._allInstancesList.length,\n                sprites: 0,\n                particles: 0\n            }\n        },\n        mounted(){\n            gdjs._vstats.isLoad = true\n            this.start = new Date().getTime()\n        },\n        methods:{\n            pushCommand(){\n                if(!this.commandList[this.command]){\n                    this.pushLog({\n                        cmd: this.command,\n                        log: \"cmd not found\"\n                    })\n                }else{\n                    this.commands.push(this.command)\n                }\n                this.command = \"\"\n            },\n            runCommand(cmd, log){\n                this.commands.shift()\n                this.pushLog({\n                    cmd: this.command,\n                    log: log\n                })\n            },\n            hasCommand(cmd, log){\n                this.registerCommand(cmd)\n                if(!this.commands.length) return false\n                let has = this.commands[0] == cmd\n                if(has) this.runCommand(cmd, log)\n                return has\n            },\n            registerCommand(cmd){\n                if(!this.commandList[cmd])\n                    this.commandList[cmd] = {\n                        cmd: cmd\n                    }\n            },\n            pushLog(obj){\n                if(this.logs.length > 4) this.logs.shift()\n                this.logs.push(obj)\n            },\n            update(){\n                this.now = this.msToTime(new Date().getTime()-this.start)\n                this.updateList()\n                this.instances = runtimeScene._allInstancesList.length\n                let sprites = 0\n                let particles = 0\n                runtimeScene._allInstancesList.forEach(o =>{\n                    if(o.constructor.name == 'SpriteRuntimeObject') sprites++\n                    if(o.constructor.name == 'ParticleEmitterObject'){\n                        particles = particles + parseInt(o._renderer.emitter.particleCount)\n                    }\n                })\n                this.sprites = sprites\n                this.particles = particles\n                this.$forceUpdate() // grant update (free if particles = 0 | why??? need discorver ðŸ•µï¸â€â™€ï¸ )\n            },\n            updateList(){\n                Object.keys(this.list)\n                    .forEach( o =>{\n                        if(this.list[o].key)\n                            this.list[o].value = runtimeScene._variables.get(this.list[o].key).getValue()\n                    })\n            },\n            msToTime(duration) {\n                let milliseconds = Math.floor((duration % 1000) / 100),\n                    seconds      = Math.floor((duration / 1000) % 60),\n                    minutes      = Math.floor((duration / (1000 * 60)) % 60),\n                    hours        = Math.floor((duration / (1000 * 60 * 60)) % 24);\n\n                hours   = (hours < 10) ? \"0\" + hours : hours;\n                minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n                seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n\n                return hours + \":\" + minutes + \":\" + seconds + \".\" + milliseconds;\n            }\n        }\n    })\n})\n\ndocument.querySelector('canvas').addEventListener('click', ()=>{\n    document.querySelector('canvas').focus()\n})","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onScenePreEvents","private":false,"sentence":"","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let stats = gdjs._GameStats\nif(false && stats.labels.fps){ //try to reload stats if fps = infinity\n    let fpsMeasures = stats.labels.fps\n    fpsMeasures = Math.round(1000 / fpsMeasures[fpsMeasures.length-1])\n    if(fpsMeasures > 100000) {\n        Object.keys(stats.labels).forEach( o => stats.labels[o] = [])\n        stats.currentTime = 0\n        stats.prevTime = 0\n        stats.previousAverageMS = 0\n        stats.previousMaxMS = 0\n        console.log(\"RELOAD STATS \"+fpsMeasures)\n    }\n}\nstats.begin()","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[],"objectGroups":[]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onScenePostEvents","private":false,"sentence":"","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let stats = gdjs._GameStats\r\nstats.end()","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"Timer"},"parameters":["",".1","\"STATS\""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"if(gdjs._vstats.isLoad)\n    gdjs._vstats.app.update()","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"ResetTimer"},"parameters":["","\"STATS\""],"subInstructions":[]}],"events":[]}]}],"parameters":[],"objectGroups":[]},{"description":"Init Game Statistics","fullName":"Init Game Statistics","functionType":"Action","group":"","name":"init","private":false,"sentence":"Init Game Statistics","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"DevToolkit::triggerCommand"},"parameters":["","\"clear\"","\"\"",""],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"if(gdjs._vstats.isLoad) \n    gdjs._vstats.app.logs = []","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}]}],"parameters":[],"objectGroups":[]},{"description":"Create panel","fullName":"Create panel","functionType":"Action","group":"","name":"addPanel","private":false,"sentence":"Create panel _PARAM1_ for variable _PARAM2_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let add = setInterval(()=>{\r\n    if(gdjs._vstats.isLoad){\r\n        gdjs._vstats.app.list[eventsFunctionContext.getArgument(\"Title\")] = {\r\n            key: eventsFunctionContext.getArgument(\"Variable\"),\r\n            value: runtimeScene._variables.get(eventsFunctionContext.getArgument(\"Variable\")).getValue()\r\n        }\r\n        clearTimeout(add)\r\n    }\r\n}, 500)","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Title of panel","longDescription":"","name":"Title","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"Name of scene variable","longDescription":"","name":"Variable","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Show Game Statistics","fullName":"Show Game Statistics","functionType":"Action","group":"","name":"showPanel","private":false,"sentence":"Show Game Statistics _PARAM1_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let show = eventsFunctionContext.getArgument(\"Show\")\ngdjs._GameStats.show(show)\n    ","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"","longDescription":"","name":"Show","optional":false,"supplementaryInformation":"","type":"trueorfalse"}],"objectGroups":[]},{"description":"Create divider","fullName":"Create divider","functionType":"Action","group":"","name":"addDivider","private":false,"sentence":"Create divider with title _PARAM1_ ","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[{"type":{"inverted":false,"value":"BuiltinCommonInstructions::Once"},"parameters":[],"subInstructions":[]}],"actions":[],"events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let add = setInterval(()=>{\r\n    if(gdjs._vstats.isLoad){\r\n        gdjs._vstats.app.list[eventsFunctionContext.getArgument(\"Title\")] = {\r\n            key: false,\r\n            value: \"\"\r\n        }\r\n        clearTimeout(add)\r\n    }\r\n}, 500)","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"","longDescription":"","name":"Title","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Trigger command on console","fullName":"Trigger command on console","functionType":"Condition","group":"","name":"triggerCommand","private":false,"sentence":"Trigger command _PARAM1_ and return _PARAM2_ ","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let cmd = eventsFunctionContext.getArgument(\"Command\")\nlet log = eventsFunctionContext.getArgument(\"Log\")\nif(gdjs._vstats.isLoad){\n    let has = gdjs._vstats.app.hasCommand(cmd, log) ? true : false\n    if(has){\n        // console.log(cmd, log)\n        eventsFunctionContext.returnValue = has\n    }\n\n}","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"","longDescription":"","name":"Command","optional":false,"supplementaryInformation":"","type":"string"},{"codeOnly":false,"defaultValue":"","description":"","longDescription":"","name":"Log","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]},{"description":"Console log","fullName":"Console log","functionType":"Action","group":"","name":"ConsoleLog","private":false,"sentence":"Send log _PARAM1_ to console","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"let log = eventsFunctionContext.getArgument(\"Log\")\nif(gdjs._vstats.isLoad) \n    gdjs._vstats.app.pushLog({\n        cmd: \"log\",\n        log: log\n    })\n    ","parameterObjects":"","useStrict":true,"eventsSheetExpanded":true}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"","longDescription":"","name":"Log","optional":false,"supplementaryInformation":"","type":"string"}],"objectGroups":[]}],"eventsBasedBehaviors":[]},{"author":"","category":"Advanced","description":"","extensionNamespace":"","fullName":"BezierPaths","helpPath":"","iconUrl":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGc+DQoJPHBhdGggZD0iTTI4LDE4Yy0wLjYsMC0xLTAuNC0xLTFjMC02LjEtNC45LTExLTExLTExUzUsMTAuOSw1LDE3YzAsMC42LTAuNCwxLTEsMXMtMS0wLjQtMS0xQzMsOS44LDguOCw0LDE2LDRzMTMsNS44LDEzLDEzDQoJCUMyOSwxNy42LDI4LjYsMTgsMjgsMTh6Ii8+DQo8L2c+DQo8Zz4NCgk8cGF0aCBkPSJNNSwxOUgzYy0wLjYsMC0xLTAuNC0xLTF2LTJjMC0wLjYsMC40LTEsMS0xaDJjMC42LDAsMSwwLjQsMSwxdjJDNiwxOC42LDUuNiwxOSw1LDE5eiIvPg0KPC9nPg0KPGc+DQoJPHBhdGggZD0iTTI5LDE5aC0yYy0wLjYsMC0xLTAuNC0xLTF2LTJjMC0wLjYsMC40LTEsMS0xaDJjMC42LDAsMSwwLjQsMSwxdjJDMzAsMTguNiwyOS42LDE5LDI5LDE5eiIvPg0KPC9nPg0KPGc+DQoJPHBhdGggZD0iTTE3LDdoLTJjLTAuNiwwLTEtMC40LTEtMVY0YzAtMC42LDAuNC0xLDEtMWgyYzAuNiwwLDEsMC40LDEsMXYyQzE4LDYuNiwxNy42LDcsMTcsN3oiLz4NCjwvZz4NCjxnPg0KCTxwYXRoIGQ9Ik00LDdDMi45LDcsMiw2LjEsMiw1czAuOS0yLDItMnMyLDAuOSwyLDJTNS4xLDcsNCw3eiBNNCw1TDQsNUw0LDV6IE00LDVMNCw1TDQsNXogTTQsNUw0LDVMNCw1eiBNNCw1TDQsNUw0LDV6IE00LDVMNCw1DQoJCUw0LDV6IE00LDVMNCw1TDQsNXogTTQsNUw0LDVMNCw1eiBNNCw1TDQsNUw0LDV6Ii8+DQo8L2c+DQo8Zz4NCgk8cGF0aCBkPSJNMjgsN2MtMS4xLDAtMi0wLjktMi0yczAuOS0yLDItMnMyLDAuOSwyLDJTMjkuMSw3LDI4LDd6IE0yOCw1TDI4LDVMMjgsNXogTTI4LDVMMjgsNUwyOCw1eiBNMjgsNUwyOCw1TDI4LDV6IE0yOCw1TDI4LDUNCgkJTDI4LDV6IE0yOCw1TDI4LDVMMjgsNXogTTI4LDVMMjgsNUwyOCw1eiBNMjgsNUwyOCw1TDI4LDV6IE0yOCw1TDI4LDVMMjgsNXoiLz4NCjwvZz4NCjxnPg0KCTxwYXRoIGQ9Ik0yOCw2SDRDMy40LDYsMyw1LjYsMyw1czAuNC0xLDEtMWgyNGMwLjYsMCwxLDAuNCwxLDFTMjguNiw2LDI4LDZ6Ii8+DQo8L2c+DQo8Zz4NCgk8cGF0aCBkPSJNMTIsMjVIMjBjMC42LTIsMS41LTMuOCwyLjgtNS4yYzAuMy0wLjMsMC4zLTAuOCwwLjEtMS4yTDE3LDkuN3Y2LjVjMS4yLDAuNCwyLDEuNSwyLDIuOGMwLDEuNy0xLjMsMy0zLDNzLTMtMS4zLTMtMw0KCQljMC0xLjMsMC44LTIuNCwyLTIuOFY5LjdsLTUuOCw4LjlDOC45LDE5LDksMTkuNSw5LjMsMTkuOEMxMC41LDIxLjIsMTEuNCwyMywxMiwyNXoiLz4NCgk8cGF0aCBkPSJNMTIsMjd2MmMwLDAuNiwwLjQsMSwxLDFoNmMwLjYsMCwxLTAuNCwxLTF2LTJIMTJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==","name":"BezierPaths","previewIconUrl":"https://resources.gdevelop-app.com/assets/Icons/Glyphster Pack/Master/SVG/Graphic Design/Graphic Design_pen_tool_vector_curves.svg","shortDescription":"Making the bezier path working","version":"0.1.0","tags":[],"authorIds":[],"dependencies":[],"eventsFunctions":[{"description":"","fullName":"Create a new path","functionType":"Action","group":"","name":"StartPath","private":false,"sentence":"Create a Path from points _PARAM1_ , is closed loop? _PARAM3_ with _PARAM4_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::ForEach","object":"Point","conditions":[],"actions":[{"type":{"inverted":false,"value":"BezierPaths::Point::SetPropertyorderID"},"parameters":["Point","x","=","Point.Variable(\"id\")"],"subInstructions":[]}],"events":[]},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"console.log(gdjs._extensionBezierPaths)\nconsole.log(objects)\nruntimeScene.enableDebugDraw(true, true, true, true)\nlet is_close_loop = eventsFunctionContext.getArgument(\"closeloop\")\nlet    painter = eventsFunctionContext.getObjects(\"painter\")[0]\n/*   for (int i = 0; i < path.NumSegments; i++)\n        {\n            Vector2[] points = path.GetPointsInSegment(i);\n            Handles.color = Color.black;\n            Handles.DrawLine(points[1], points[0]);\n            Handles.DrawLine(points[2], points[3]);\n            Handles.DrawBezier(points[0], points[3], points[1], points[2], Color.green, null, 2);\n        }\n*/\nobjects.forEach((k)=>{\n    let id = k.getVariables().get(\"id\").getAsNumber()\n    console.log(id)\n \n\n    //console.log(k.getX())\n})\n\n\n\nconst screenWidth = runtimeScene.getGame().getGameResolutionWidth();\nconst screenHeight = runtimeScene.getGame().getGameResolutionWidth();\n\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\n\nfor (const object of objects) {\n    const behavior = object.getBehavior(behaviorName);\n\n    if (behavior._behaviorData.MustOnlyDrawScreen) {\n        const layer = runtimeScene.getLayer(object.getLayer());\n        const screen1 = layer.convertCoords(0, 0);\n        const screen2 = layer.convertCoords(screenWidth, 0);\n        const screen3 = layer.convertCoords(0, screenHeight);\n        const screen4 = layer.convertCoords(screenWidth, screenHeight);\n\n        const screenLeft = Math.min(screen1[0], screen2[0], screen3[0], screen4[0]);\n        const screenTop = Math.min(screen1[1], screen2[1], screen3[1], screen4[1]);\n        const screenRight = Math.max(screen1[0], screen2[0], screen3[0], screen4[0]);\n        const screenBottom = Math.max(screen1[1], screen2[1], screen3[1], screen4[1]);\n\n        const minX = Math.max(0, Math.floor(behavior.convertToGridBasisX(screenLeft)));\n        const minY = Math.max(0, Math.floor(behavior.convertToGridBasisY(screenTop)));\n        // I don't know why the + 1 is needed\n        const maxX = Math.min(behavior.dimX(), 1 + Math.ceil(behavior.convertToGridBasisX(screenRight)));\n        const maxY = Math.min(behavior.dimY(), Math.ceil(behavior.convertToGridBasisY(screenBottom)));\n\n        behavior.drawField(minX, minY, maxX, maxY);\n    }\n    else {\n        // This is useful for static content or games without scrolling.\n        behavior.drawField(0, 0, behavior.dimX(), behavior.dimY());\n    }\n}\n\nconsole.log(painter)","parameterObjects":"Point","useStrict":true,"eventsSheetExpanded":true},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"The point group in the screen","longDescription":"","name":"Point","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"The behavior requirement","longDescription":"","name":"b1","optional":false,"supplementaryInformation":"BezierPaths::Point","type":"behavior"}],"objectGroups":[{"name":"Points","objects":[{"name":"Point"}]}]},{"description":"","fullName":"","functionType":"Action","group":"","name":"onFirstSceneLoaded","private":false,"sentence":"","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"var beziermath=function(n){\"use strict\";const{abs:e,cos:i,sin:r,acos:s,atan2:o,sqrt:c,pow:u}=Math;function h(t){return t<0?-u(-t,1/3):u(t,1/3)}const l=Math.PI,x=2*l,a=l/2,f=Number.MAX_SAFE_INTEGER||9007199254740991,y=Number.MIN_SAFE_INTEGER||-9007199254740991,p={x:0,y:0,z:0},m={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n){const e=n(t);let i=e.x*e.x+e.y*e.y;return void 0!==e.z&&(i+=e.z*e.z),c(i)},compute:function(t,n,e){if(0===t)return n[0].t=0,n[0];const i=n.length-1;if(1===t)return n[i].t=1,n[i];const r=1-t;let s=n;if(0===i)return n[0].t=t,n[0];if(1===i){const n={x:r*s[0].x+t*s[1].x,y:r*s[0].y+t*s[1].y,t:t};return e&&(n.z=r*s[0].z+t*s[1].z),n}if(i<4){let n,o,c,u=r*r,h=t*t,l=0;2===i?(s=[s[0],s[1],s[2],p],n=u,o=r*t*2,c=h):3===i&&(n=u*r,o=u*t*3,c=r*h*3,l=t*h);const x={x:n*s[0].x+o*s[1].x+c*s[2].x+l*s[3].x,y:n*s[0].y+o*s[1].y+c*s[2].y+l*s[3].y,t:t};return e&&(x.z=n*s[0].z+o*s[1].z+c*s[2].z+l*s[3].z),x}const o=JSON.parse(JSON.stringify(n));for(;o.length>1;){for(let n=0;n<o.length-1;n++)o[n]={x:o[n].x+(o[n+1].x-o[n].x)*t,y:o[n].y+(o[n+1].y-o[n].y)*t},void 0!==o[n].z&&(o[n]=o[n].z+(o[n+1].z-o[n].z)*t);o.splice(o.length-1,1)}return o[0].t=t,o[0]},computeWithRatios:function(t,n,e,i){const r=1-t,s=e,o=n;let c,u=s[0],h=s[1],l=s[2],x=s[3];return u*=r,h*=t,2===o.length?(c=u+h,{x:(u*o[0].x+h*o[1].x)/c,y:(u*o[0].y+h*o[1].y)/c,z:!!i&&(u*o[0].z+h*o[1].z)/c,t:t}):(u*=r,h*=2*r,l*=t*t,3===o.length?(c=u+h+l,{x:(u*o[0].x+h*o[1].x+l*o[2].x)/c,y:(u*o[0].y+h*o[1].y+l*o[2].y)/c,z:!!i&&(u*o[0].z+h*o[1].z+l*o[2].z)/c,t:t}):(u*=r,h*=1.5*r,l*=3*r,x*=t*t*t,4===o.length?(c=u+h+l+x,{x:(u*o[0].x+h*o[1].x+l*o[2].x+x*o[3].x)/c,y:(u*o[0].y+h*o[1].y+l*o[2].y+x*o[3].y)/c,z:!!i&&(u*o[0].z+h*o[1].z+l*o[2].z+x*o[3].z)/c,t:t}):void 0))},derive:function(t,n){const e=[];for(let i=t,r=i.length,s=r-1;r>1;r--,s--){const t=[];for(let e,r=0;r<s;r++)e={x:s*(i[r+1].x-i[r].x),y:s*(i[r+1].y-i[r].y)},n&&(e.z=s*(i[r+1].z-i[r].z)),t.push(e);e.push(t),i=t}return e},between:function(t,n,e){return n<=t&&t<=e||m.approximately(t,n)||m.approximately(t,e)},approximately:function(t,n,i){return e(t-n)<=(i||1e-6)},length:function(t){const n=m.Tvalues.length;let e=0;for(let i,r=0;r<n;r++)i=.5*m.Tvalues[r]+.5,e+=m.Cvalues[r]*m.arcfn(i,t);return.5*e},map:function(t,n,e,i,r){return i+(r-i)*((t-n)/(e-n))},lerp:function(t,n,e){const i={x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)};return void 0!==n.z&&void 0!==e.z&&(i.z=n.z+t*(e.z-n.z)),i},pointToString:function(t){let n=t.x+\"/\"+t.y;return void 0!==t.z&&(n+=\"/\"+t.z),n},pointsToString:function(t){return\"[\"+t.map(m.pointToString).join(\", \")+\"]\"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,e){const i=n.x-t.x,r=n.y-t.y,s=e.x-t.x,c=e.y-t.y;return o(i*c-r*s,i*s+r*c)},round:function(t,n){const e=\"\"+t,i=e.indexOf(\".\");return parseFloat(e.substring(0,i+1+n))},dist:function(t,n){const e=t.x-n.x,i=t.y-n.y;return c(e*e+i*i)},closest:function(t,n){let e,i,r=u(2,63);return t.forEach((function(t,s){i=m.dist(n,t),i<r&&(r=i,e=s)})),{mdist:r,mpos:e}},abcratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const i=u(t,n)+u(1-t,n);return e((i-1)/i)},projectionratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;const e=u(1-t,n);return e/(u(t,n)+e)},lli8:function(t,n,e,i,r,s,o,c){const u=(t-e)*(s-c)-(n-i)*(r-o);return 0!=u&&{x:((t*i-n*e)*(r-o)-(t-e)*(r*c-s*o))/u,y:((t*i-n*e)*(s-c)-(n-i)*(r*c-s*o))/u}},lli4:function(t,n,e,i){const r=t.x,s=t.y,o=n.x,c=n.y,u=e.x,h=e.y,l=i.x,x=i.y;return m.lli8(r,s,o,c,u,h,l,x)},lli:function(t,n){return m.lli4(t,t.c,n,n.c)},findbbox:function(t){let n=f,e=f,i=y,r=y;return t.forEach((function(t){const s=t.bbox();n>s.x.min&&(n=s.x.min),e>s.y.min&&(e=s.y.min),i<s.x.max&&(i=s.x.max),r<s.y.max&&(r=s.y.max)})),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:e,mid:(e+r)/2,max:r,size:r-e}}},shapeintersections:function(t,n,e,i,r){if(!m.bboxoverlap(n,i))return[];const s=[],o=[t.startcap,t.forward,t.back,t.endcap],c=[e.startcap,e.forward,e.back,e.endcap];return o.forEach((function(n){n.virtual||c.forEach((function(i){if(i.virtual)return;const o=n.intersects(i,r);o.length>0&&(o.c1=n,o.c2=i,o.s1=t,o.s2=e,s.push(o))}))})),s},getminmax:function(t,n,e){if(!e)return{min:0,max:0};let i,r,s=f,o=y;-1===e.indexOf(0)&&(e=[0].concat(e)),-1===e.indexOf(1)&&e.push(1);for(let c=0,u=e.length;c<u;c++)i=e[c],r=t.get(i),r[n]<s&&(s=r[n]),r[n]>o&&(o=r[n]);return{min:s,mid:(s+o)/2,max:o,size:o-s}},align:function(t,n){const e=n.p1.x,s=n.p1.y,c=-o(n.p2.y-s,n.p2.x-e);return t.map((function(t){return{x:(t.x-e)*i(c)-(t.y-s)*r(c),y:(t.x-e)*r(c)+(t.y-s)*i(c)}}))},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const e=t.length-1,r=m.align(t,n),o=function(t){return 0<=t&&t<=1};if(2===e){const t=r[0].y,n=r[1].y,e=r[2].y,i=t-2*n+e;if(0!==i){const r=-c(n*n-t*e),s=-t+n;return[-(r+s)/i,-(-r+s)/i].filter(o)}return n!==e&&0===i?[(2*n-e)/(2*n-2*e)].filter(o):[]}const u=r[0].y,l=r[1].y,a=r[2].y;let f=3*l-u-3*a+r[3].y,y=3*u-6*l+3*a,p=-3*u+3*l,d=u;if(m.approximately(f,0)){if(m.approximately(y,0))return m.approximately(p,0)?[]:[-d/p].filter(o);const t=c(p*p-4*y*d),n=2*y;return[(t-p)/n,(-p-t)/n].filter(o)}y/=f,p/=f,d/=f;const g=(3*p-y*y)/3,z=g/3,v=(2*y*y*y-9*y*p+27*d)/27,_=v/2,b=_*_+z*z*z;let w,E,k,S,O;if(b<0){const t=-g/3,n=c(t*t*t),e=-v/(2*n),r=s(e<-1?-1:e>1?1:e),u=2*h(n);return k=u*i(r/3)-y/3,S=u*i((r+x)/3)-y/3,O=u*i((r+2*x)/3)-y/3,[k,S,O].filter(o)}if(0===b)return w=_<0?h(-_):-h(_),k=2*w-y/3,S=-w-y/3,[k,S].filter(o);{const t=c(b);return w=h(-_+t),E=h(_+t),[w-E-y/3].filter(o)}},droots:function(t){if(3===t.length){const n=t[0],e=t[1],i=t[2],r=n-2*e+i;if(0!==r){const t=-c(e*e-n*i),s=-n+e;return[-(t+s)/r,-(-t+s)/r]}return e!==i&&0===r?[(2*e-i)/(2*(e-i))]:[]}if(2===t.length){const n=t[0],e=t[1];return n!==e?[n/(n-e)]:[]}return[]},curvature:function(t,n,i,r,s){let o,h,l,x,a=0,f=0;const y=m.compute(t,n),p=m.compute(t,i),d=y.x*y.x+y.y*y.y;if(r?(o=c(u(y.y*p.z-p.y*y.z,2)+u(y.z*p.x-p.z*y.x,2)+u(y.x*p.y-p.x*y.y,2)),h=u(d+y.z*y.z,1.5)):(o=y.x*p.y-y.y*p.x,h=u(d,1.5)),0===o||0===h)return{k:0,r:0};if(a=o/h,f=h/o,!s){const s=m.curvature(t-.001,n,i,r,!0).k,o=m.curvature(t+.001,n,i,r,!0).k;x=(o-a+(a-s))/2,l=(e(o-a)+e(a-s))/2}return{k:a,r:f,dk:x,adk:l}},inflections:function(t){if(t.length<4)return[];const n=m.align(t,{p1:t[0],p2:t.slice(-1)[0]}),e=n[2].x*n[1].y,i=n[3].x*n[1].y,r=n[1].x*n[2].y,s=18*(-3*e+2*i+3*r-n[3].x*n[2].y),o=18*(3*e-i-3*r),c=18*(r-e);if(m.approximately(s,0)){if(!m.approximately(o,0)){let t=-c/o;if(0<=t&&t<=1)return[t]}return[]}const u=2*s;if(m.approximately(u,0))return[];const h=o*o-4*s*c;if(h<0)return[];const l=Math.sqrt(h);return[(l-o)/u,-(o+l)/u].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,n){const i=[\"x\",\"y\"],r=i.length;for(let s,o,c,u,h=0;h<r;h++)if(s=i[h],o=t[s].mid,c=n[s].mid,u=(t[s].size+n[s].size)/2,e(o-c)>=u)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n,e){const i=t.bbox(),r=n.bbox(),s=1e5,o=e||.5;if(i.x.size+i.y.size<o&&r.x.size+r.y.size<o)return[(s*(t._t1+t._t2)/2|0)/s+\"/\"+(s*(n._t1+n._t2)/2|0)/s];let c=t.split(.5),u=n.split(.5),h=[{left:c.left,right:u.left},{left:c.left,right:u.right},{left:c.right,right:u.right},{left:c.right,right:u.left}];h=h.filter((function(t){return m.bboxoverlap(t.left.bbox(),t.right.bbox())}));let l=[];return 0===h.length||(h.forEach((function(t){l=l.concat(m.pairiteration(t.left,t.right,o))})),l=l.filter((function(t,n){return l.indexOf(t)===n}))),l},getccenter:function(t,n,e){const s=n.x-t.x,c=n.y-t.y,u=e.x-n.x,h=e.y-n.y,l=s*i(a)-c*r(a),f=s*r(a)+c*i(a),y=u*i(a)-h*r(a),p=u*r(a)+h*i(a),d=(t.x+n.x)/2,g=(t.y+n.y)/2,z=(n.x+e.x)/2,v=(n.y+e.y)/2,_=d+l,b=g+f,w=z+y,E=v+p,k=m.lli8(d,g,_,b,z,v,w,E),S=m.dist(k,t);let O,T=o(t.y-k.y,t.x-k.x),A=o(n.y-k.y,n.x-k.x),B=o(e.y-k.y,e.x-k.x);return T<B?((T>A||A>B)&&(T+=x),T>B&&(O=B,B=T,T=O)):B<A&&A<T?(O=B,B=T,T=O):B+=x,k.s=T,k.e=B,k.r=S,k},numberSort:function(t,n){return t-n}};class d{constructor(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return\"[\"+this.curves.map((function(t){return m.pointsToString(t.points)})).join(\", \")+\"]\"}addCurve(t){this.curves.push(t),this._3d=this._3d||t._3d}length(){return this.curves.map((function(t){return t.length()})).reduce((function(t,n){return t+n}))}curve(t){return this.curves[t]}bbox(){const t=this.curves;let n=t[0].bbox();for(let e=1;e<t.length;e++)m.expandbox(n,t[e].bbox());return n}offset(t){const n=[];return this.curves.forEach((function(e){n.push(...e.offset(t))})),new d(n)}}const{abs:g,min:z,max:v,cos:_,sin:b,acos:w,sqrt:E}=Math,k=Math.PI;class S{constructor(t){let n=t&&t.forEach?t:Array.from(arguments).slice(),e=!1;if(\"object\"==typeof n[0]){e=n.length;const t=[];n.forEach((function(n){[\"x\",\"y\",\"z\"].forEach((function(e){void 0!==n[e]&&t.push(n[e])}))})),n=t}let i=!1;const r=n.length;if(e){if(e>4){if(1!==arguments.length)throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");i=!0}}else if(6!==r&&8!==r&&9!==r&&12!==r&&1!==arguments.length)throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");const s=this._3d=!i&&(9===r||12===r)||t&&t[0]&&void 0!==t[0].z,o=this.points=[];for(let t=0,e=s?3:2;t<r;t+=e){let e={x:n[t],y:n[t+1]};s&&(e.z=n[t+2]),o.push(e)}const c=this.order=o.length-1,u=this.dims=[\"x\",\"y\"];s&&u.push(\"z\"),this.dimlen=u.length;const h=m.align(o,{p1:o[0],p2:o[c]}),l=m.dist(o[0],o[c]);this._linear=h.reduce(((t,n)=>t+g(n.y)),0)<l/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static makeline(t,n){return new S(t.x,t.y,(t.x+n.x)/2,(t.y+n.y)/2,n.x,n.y)}static makeshape(t,n,e){const i=n.points.length,r=t.points.length,s=S.makeline(n.points[i-1],t.points[0]),o=S.makeline(t.points[r-1],n.points[0]),c={startcap:s,forward:t,back:n,endcap:o,bbox:m.findbbox([s,t,n,o]),intersections:function(t){return m.shapeintersections(c,c.bbox,t,t.bbox,e)}};return c}static quadraticFromPoints(t,n,e,i){if(void 0===i&&(i=.5),0===i)return new S(n,n,e);if(1===i)return new S(t,n,n);const r=S.getABC(2,t,n,e,i);return new S(t,r.A,e)}static cubicFromPoints(t,n,e,i,r){void 0===i&&(i=.5);const s=S.getABC(3,t,n,e,i);void 0===r&&(r=m.dist(n,s.C));const o=r*(1-i)/i,c=m.dist(t,e),u=(e.x-t.x)/c,h=(e.y-t.y)/c,l=r*u,x=r*h,a=o*u,f=o*h,y=n.x-l,p=n.y-x,d=n.x+a,g=n.y+f,z=s.A,v=z.x+(y-z.x)/(1-i),_=z.y+(p-z.y)/(1-i),b=z.x+(d-z.x)/i,w=z.y+(g-z.y)/i,E={x:t.x+(v-t.x)/i,y:t.y+(_-t.y)/i},k={x:e.x+(b-e.x)/(1-i),y:e.y+(w-e.y)/(1-i)};return new S(t,E,k,e)}static getUtils(){return m}getUtils(){return S.getUtils()}static get PolyBezier(){return d}valueOf(){return this.toString()}toString(){return m.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const t=this.points,n=[\"M\",t[0].x,t[0].y,2===this.order?\"Q\":\"C\"];for(let e=1,i=t.length;e<i;e++)n.push(t[e].x),n.push(t[e].y);return n.join(\" \")}setRatios(t){if(t.length!==this.points.length)throw new Error(\"incorrect number of ratio values\");this.ratios=t,this._lut=[]}verify(){const t=this.coordDigest();t!==this._print&&(this._print=t,this.update())}coordDigest(){return this.points.map((function(t,n){return\"\"+n+t.x+t.y+(t.z?t.z:0)})).join(\"\")}update(){this._lut=[],this.dpoints=m.derive(this.points,this._3d),this.computedirection()}computedirection(){const t=this.points,n=m.angle(t[0],t[this.order],t[1]);this.clockwise=n>0}length(){return m.length(this.derivative.bind(this))}static getABC(t=2,n,e,i,r=.5){const s=m.projectionratio(r,t),o=1-s,c={x:s*n.x+o*i.x,y:s*n.y+o*i.y},u=m.abcratio(r,t);return{A:{x:e.x+(e.x-c.x)/u,y:e.y+(e.y-c.y)/u},B:e,C:c,S:n,E:i}}getABC(t,n){n=n||this.get(t);let e=this.points[0],i=this.points[this.order];return S.getABC(this.order,e,n,i,t)}getLUT(t){if(this.verify(),t=t||100,this._lut.length===t)return this._lut;this._lut=[],t++,this._lut=[];for(let n,e,i=0;i<t;i++)e=i/(t-1),n=this.compute(e),n.t=e,this._lut.push(n);return this._lut}on(n,e){e=e||5;const i=this.getLUT(),r=[];for(let t,s=0,o=0;s<i.length;s++)t=i[s],m.dist(t,n)<e&&(r.push(t),o+=s/i.length);return!!r.length&&(t/=r.length)}project(t){const n=this.getLUT(),e=n.length-1,i=m.closest(n,t),r=i.mpos,s=(r-1)/e,o=(r+1)/e,c=.1/e;let u,h,l=i.mdist,x=s,a=x;for(l+=1;x<o+c;x+=c)u=this.compute(x),h=m.dist(t,u),h<l&&(l=h,a=x);return a=a<0?0:a>1?1:a,u=this.compute(a),u.t=a,u.d=l,u}get(t){return this.compute(t)}point(t){return this.points[t]}compute(t){return this.ratios?m.computeWithRatios(t,this.points,this.ratios,this._3d):m.compute(t,this.points,this._3d,this.ratios)}raise(){const t=this.points,n=[t[0]],e=t.length;for(let i,r,s=1;s<e;s++)i=t[s],r=t[s-1],n[s]={x:(e-s)/e*i.x+s/e*r.x,y:(e-s)/e*i.y+s/e*r.y};return n[e]=t[e-1],new S(n)}derivative(t){return m.compute(t,this.dpoints[0],this._3d)}dderivative(t){return m.compute(t,this.dpoints[1],this._3d)}align(){let t=this.points;return new S(m.align(t,{p1:t[0],p2:t[t.length-1]}))}curvature(t){return m.curvature(t,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return m.inflections(this.points)}normal(t){return this._3d?this.__normal3(t):this.__normal2(t)}__normal2(t){const n=this.derivative(t),e=E(n.x*n.x+n.y*n.y);return{t:t,x:-n.y/e,y:n.x/e}}__normal3(t){const n=this.derivative(t),e=this.derivative(t+.01),i=E(n.x*n.x+n.y*n.y+n.z*n.z),r=E(e.x*e.x+e.y*e.y+e.z*e.z);n.x/=i,n.y/=i,n.z/=i,e.x/=r,e.y/=r,e.z/=r;const s={x:e.y*n.z-e.z*n.y,y:e.z*n.x-e.x*n.z,z:e.x*n.y-e.y*n.x},o=E(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=o,s.y/=o,s.z/=o;const c=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:t,x:c[0]*n.x+c[1]*n.y+c[2]*n.z,y:c[3]*n.x+c[4]*n.y+c[5]*n.z,z:c[6]*n.x+c[7]*n.y+c[8]*n.z}}hull(t){let n=this.points,e=[],i=[],r=0;for(i[r++]=n[0],i[r++]=n[1],i[r++]=n[2],3===this.order&&(i[r++]=n[3]);n.length>1;){e=[];for(let s,o=0,c=n.length-1;o<c;o++)s=m.lerp(t,n[o],n[o+1]),i[r++]=s,e.push(s);n=e}return i}split(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;const e=this.hull(t),i={left:2===this.order?new S([e[0],e[3],e[5]]):new S([e[0],e[4],e[7],e[9]]),right:2===this.order?new S([e[5],e[4],e[2]]):new S([e[9],e[8],e[6],e[3]]),span:e};return i.left._t1=m.map(0,0,1,this._t1,this._t2),i.left._t2=m.map(t,0,1,this._t1,this._t2),i.right._t1=m.map(t,0,1,this._t1,this._t2),i.right._t2=m.map(1,0,1,this._t1,this._t2),n?(n=m.map(n,t,1,0,1),i.right.split(n).left):i}extrema(){const t={};let n=[];return this.dims.forEach(function(e){let i=function(t){return t[e]},r=this.dpoints[0].map(i);t[e]=m.droots(r),3===this.order&&(r=this.dpoints[1].map(i),t[e]=t[e].concat(m.droots(r))),t[e]=t[e].filter((function(t){return t>=0&&t<=1})),n=n.concat(t[e].sort(m.numberSort))}.bind(this)),t.values=n.sort(m.numberSort).filter((function(t,e){return n.indexOf(t)===e})),t}bbox(){const t=this.extrema(),n={};return this.dims.forEach(function(e){n[e]=m.getminmax(this,e,t[e])}.bind(this)),n}overlaps(t){const n=this.bbox(),e=t.bbox();return m.bboxoverlap(n,e)}offset(t,n){if(void 0!==n){const e=this.get(t),i=this.normal(t),r={c:e,n:i,x:e.x+i.x*n,y:e.y+i.y*n};return this._3d&&(r.z=e.z+i.z*n),r}if(this._linear){const n=this.normal(0),e=this.points.map((function(e){const i={x:e.x+t*n.x,y:e.y+t*n.y};return e.z&&n.z&&(i.z=e.z+t*n.z),i}));return[new S(e)]}return this.reduce().map((function(n){return n._linear?n.offset(t)[0]:n.scale(t)}))}simple(){if(3===this.order){const t=m.angle(this.points[0],this.points[3],this.points[1]),n=m.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&n<0||t<0&&n>0)return!1}const t=this.normal(0),n=this.normal(1);let e=t.x*n.x+t.y*n.y;return this._3d&&(e+=t.z*n.z),g(w(e))<k/3}reduce(){let t,n,e=0,i=0,r=.01,s=[],o=[],c=this.extrema().values;for(-1===c.indexOf(0)&&(c=[0].concat(c)),-1===c.indexOf(1)&&c.push(1),e=c[0],t=1;t<c.length;t++)i=c[t],n=this.split(e,i),n._t1=e,n._t2=i,s.push(n),e=i;return s.forEach((function(t){for(e=0,i=0;i<=1;)for(i=e+r;i<=1.01;i+=r)if(n=t.split(e,i),!n.simple()){if(i-=r,g(e-i)<r)return[];n=t.split(e,i),n._t1=m.map(e,0,1,t._t1,t._t2),n._t2=m.map(i,0,1,t._t1,t._t2),o.push(n),e=i;break}e<1&&(n=t.split(e,1),n._t1=m.map(e,0,1,t._t1,t._t2),n._t2=t._t2,o.push(n))})),o}translate(t,n,e){e=\"number\"==typeof e?e:n;const i=this.order;let r=this.points.map(((t,r)=>(1-r/i)*n+r/i*e));return new S(this.points.map(((n,e)=>({x:n.x+t.x*r[e],y:n.y+t.y*r[e]}))))}scale(t){const n=this.order;let e=!1;if(\"function\"==typeof t&&(e=t),e&&2===n)return this.raise().scale(e);const i=this.clockwise,r=this.points;if(this._linear)return this.translate(this.normal(0),e?e(0):t,e?e(1):t);const s=e?e(0):t,o=e?e(1):t,c=[this.offset(0,10),this.offset(1,10)],u=[],h=m.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error(\"cannot scale this curve. Try reducing it first.\");return[0,1].forEach((function(t){const e=u[t*n]=m.copy(r[t*n]);e.x+=(t?o:s)*c[t].n.x,e.y+=(t?o:s)*c[t].n.y})),e?([0,1].forEach((function(s){if(2===n&&s)return;let o=r[s+1],c={x:o.x-h.x,y:o.y-h.y},l=e?e((s+1)/n):t;e&&!i&&(l=-l);let x=E(c.x*c.x+c.y*c.y);c.x/=x,c.y/=x,u[s+1]={x:o.x+l*c.x,y:o.y+l*c.y}})),new S(u)):([0,1].forEach((t=>{if(2===n&&t)return;const e=u[t*n],i=this.derivative(t),s={x:e.x+i.x,y:e.y+i.y};u[t+1]=m.lli4(e,s,h,r[t+1])})),new S(u))}outline(t,n,e,i){if(n=void 0===n?t:n,this._linear){const r=this.normal(0),s=this.points[0],o=this.points[this.points.length-1];let c,u,h;void 0===e&&(e=t,i=n),c={x:s.x+r.x*t,y:s.y+r.y*t},h={x:o.x+r.x*e,y:o.y+r.y*e},u={x:(c.x+h.x)/2,y:(c.y+h.y)/2};const l=[c,u,h];c={x:s.x-r.x*n,y:s.y-r.y*n},h={x:o.x-r.x*i,y:o.y-r.y*i},u={x:(c.x+h.x)/2,y:(c.y+h.y)/2};const x=[h,u,c],a=S.makeline(x[2],l[0]),f=S.makeline(l[2],x[0]),y=[a,new S(l),f,new S(x)];return new d(y)}const r=this.reduce(),s=r.length,o=[];let c,u=[],h=0,l=this.length();const x=void 0!==e&&void 0!==i;function a(t,n,e,i,r){return function(s){const o=i/e,c=(i+r)/e,u=n-t;return m.map(s,0,1,t+o*u,t+c*u)}}r.forEach((function(r){const s=r.length();x?(o.push(r.scale(a(t,e,l,h,s))),u.push(r.scale(a(-n,-i,l,h,s)))):(o.push(r.scale(t)),u.push(r.scale(-n))),h+=s})),u=u.map((function(t){return c=t.points,c[3]?t.points=[c[3],c[2],c[1],c[0]]:t.points=[c[2],c[1],c[0]],t})).reverse();const f=o[0].points[0],y=o[s-1].points[o[s-1].points.length-1],p=u[s-1].points[u[s-1].points.length-1],g=u[0].points[0],z=S.makeline(p,f),v=S.makeline(y,g),_=[z].concat(o).concat([v]).concat(u);return new d(_)}outlineshapes(t,n,e){n=n||t;const i=this.outline(t,n).curves,r=[];for(let t=1,n=i.length;t<n/2;t++){const s=S.makeshape(i[t],i[n-t],e);s.startcap.virtual=t>1,s.endcap.virtual=t<n/2-1,r.push(s)}return r}intersects(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof S&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)}lineIntersects(t){const n=z(t.p1.x,t.p2.x),e=z(t.p1.y,t.p2.y),i=v(t.p1.x,t.p2.x),r=v(t.p1.y,t.p2.y);return m.roots(this.points,t).filter((t=>{let s=this.get(t);return m.between(s.x,n,i)&&m.between(s.y,e,r)}))}selfintersects(t){const n=this.reduce(),e=n.length-2,i=[];for(let r,s,o,c=0;c<e;c++)s=n.slice(c,c+1),o=n.slice(c+2),r=this.curveintersects(s,o,t),i.push(...r);return i}curveintersects(t,n,e){const i=[];t.forEach((function(t){n.forEach((function(n){t.overlaps(n)&&i.push({left:t,right:n})}))}));let r=[];return i.forEach((function(t){const n=m.pairiteration(t.left,t.right,e);n.length>0&&(r=r.concat(n))})),r}arcs(t){return t=t||.5,this._iterate(t,[])}_error(t,n,e,i){const r=(i-e)/4,s=this.get(e+r),o=this.get(i-r),c=m.dist(t,n),u=m.dist(t,s),h=m.dist(t,o);return g(u-c)+g(h-c)}_iterate(t,n){let e,i=0,r=1;do{e=0,r=1;let s,o,c,u,h,l=this.get(i),x=!1,a=!1,f=r,y=1;do{if(a=x,u=c,f=(i+r)/2,s=this.get(f),o=this.get(r),c=m.getccenter(l,s,o),c.interval={start:i,end:r},x=this._error(c,l,i,r)<=t,h=a&&!x,h||(y=r),x){if(r>=1){if(c.interval.end=y=1,u=c,r>1){let t={x:c.x+c.r*_(c.e),y:c.y+c.r*b(c.e)};c.e+=m.angle({x:c.x,y:c.y},t,this.get(1))}break}r+=(r-i)/2}else r=f}while(!h&&e++<100);if(e>=100)break;u=u||c,n.push(u),i=y}while(r<1);return n}}return n.Bezier=S,n.PolyBezier=d,Object.defineProperty(n,\"__esModule\",{value:!0}),n}({});\n//# sourceMappingURL=bundle.js.map\ngdjs._extensionBezierPaths = beziermath","parameterObjects":"","useStrict":true,"eventsSheetExpanded":false}],"parameters":[],"objectGroups":[]}],"eventsBasedBehaviors":[{"description":"","fullName":"Rendering the Track","name":"SpineTrackRenderer","objectType":"PrimitiveDrawing::Drawer","eventsFunctions":[{"description":"Show the track","fullName":"NewPath","functionType":"Action","group":"waypoint","name":"Render","private":false,"sentence":"Create a Path on _PARAM0_ with points _PARAM2_ , is closed loop? _PARAM4_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::JsCode","inlineCode":"console.log(gdjs._extensionBezierPaths)\nconsole.log(objects)\nruntimeScene.enableDebugDraw(true, true, true, true)\nconst screenWidth = runtimeScene.getGame().getGameResolutionWidth();\nconst screenHeight = runtimeScene.getGame().getGameResolutionWidth();\nconst _bdata = eventsFunctionContext.getObjects(\"Object\")[0].getBehavior(\"SpineTrackRenderer\")._behaviorData\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst is_close_loop = eventsFunctionContext.getArgument(\"closeloop\");\n//const bh = runtimeScene.getGame().getExtensionProperty(\"BezierPaths\",)\n\n\n/*   for (int i = 0; i < path.NumSegments; i++)\n        {\n            Vector2[] points = path.GetPointsInSegment(i);\n            Handles.color = Color.black;\n            Handles.DrawLine(points[1], points[0]);\n            Handles.DrawLine(points[2], points[3]);\n            Handles.DrawBezier(points[0], points[3], points[1], points[2], Color.green, null, 2);\n        }\n*/\n\n\nfor (let k of objects){\n    let id = k.getVariables().get(\"id\").getAsNumber()\n    console.log(id)\n    if (id ===0){\n     _bdata.start_X = k.getX()\n     _bdata.start_Y = k.getY()\n     console.log(_bdata)\n    \n    }\n}\n\n/*\nfor (const object of objects) {\n    const behavior = object.getBehavior(behaviorName);\n\n    if (behavior._behaviorData.MustOnlyDrawScreen) {\n        const layer = runtimeScene.getLayer(object.getLayer());\n        const screen1 = layer.convertCoords(0, 0);\n        const screen2 = layer.convertCoords(screenWidth, 0);\n        const screen3 = layer.convertCoords(0, screenHeight);\n        const screen4 = layer.convertCoords(screenWidth, screenHeight);\n\n        const screenLeft = Math.min(screen1[0], screen2[0], screen3[0], screen4[0]);\n        const screenTop = Math.min(screen1[1], screen2[1], screen3[1], screen4[1]);\n        const screenRight = Math.max(screen1[0], screen2[0], screen3[0], screen4[0]);\n        const screenBottom = Math.max(screen1[1], screen2[1], screen3[1], screen4[1]);\n\n        const minX = Math.max(0, Math.floor(behavior.convertToGridBasisX(screenLeft)));\n        const minY = Math.max(0, Math.floor(behavior.convertToGridBasisY(screenTop)));\n        // I don't know why the + 1 is needed\n        const maxX = Math.min(behavior.dimX(), 1 + Math.ceil(behavior.convertToGridBasisX(screenRight)));\n        const maxY = Math.min(behavior.dimY(), Math.ceil(behavior.convertToGridBasisY(screenBottom)));\n\n        //behavior.drawField(minX, minY, maxX, maxY);\n    }\n    else {\n        // This is useful for static content or games without scrolling.\n       // behavior.drawField(0, 0, behavior.dimX(), behavior.dimY());\n    }\n}\n*/\n//console.log(painter)","parameterObjects":"points","useStrict":true,"eventsSheetExpanded":true},{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"PrimitiveDrawing::MovePathTo"},"parameters":["Object","Object.Behavior::Propertystart_X()","Object.Behavior::Propertystart_Y()"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"PrimitiveDrawing::Drawer","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"BezierPaths::SpineTrackRenderer","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"The located points","longDescription":"","name":"points","optional":false,"supplementaryInformation":"","type":"objectList"},{"codeOnly":false,"defaultValue":"","description":"the point behavior","longDescription":"","name":"_m","optional":false,"supplementaryInformation":"BezierPaths::Point","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"Is that a closed loop?","longDescription":"","name":"closeloop","optional":false,"supplementaryInformation":"","type":"trueorfalse"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":true,"name":"start_X"},{"value":"0","type":"Number","label":"","description":"","group":"","extraInformation":[],"hidden":false,"name":"start_Y"}]},{"description":"","fullName":"","name":"Point","objectType":"","eventsFunctions":[{"description":"change the order of the point","fullName":"set order","functionType":"Action","group":"waypoint","name":"setOrder","private":false,"sentence":"_PARAM0_, _PARAM1_, _PARAM2_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"BezierPaths::Point::SetPropertyorderID"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"order\")"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"BezierPaths::Point","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"rearrange order ID","longDescription":"","name":"order","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]},{"description":"","fullName":"set helper points","functionType":"Action","group":"waypoint","name":"setHelperPoint","private":false,"sentence":"_PARAM0_, _PARAM1_, _PARAM2_","events":[{"disabled":false,"folded":false,"type":"BuiltinCommonInstructions::Standard","conditions":[],"actions":[{"type":{"inverted":false,"value":"BezierPaths::Point::SetPropertyx1"},"parameters":["Object","Behavior","=","GetArgumentAsNumber(\"helperId\")"],"subInstructions":[]}],"events":[]}],"parameters":[{"codeOnly":false,"defaultValue":"","description":"Object","longDescription":"","name":"Object","optional":false,"supplementaryInformation":"","type":"object"},{"codeOnly":false,"defaultValue":"","description":"Behavior","longDescription":"","name":"Behavior","optional":false,"supplementaryInformation":"BezierPaths::Point","type":"behavior"},{"codeOnly":false,"defaultValue":"","description":"0 or 1 helper","longDescription":"","name":"helperId","optional":false,"supplementaryInformation":"","type":"expression"}],"objectGroups":[]}],"propertyDescriptors":[{"value":"0","type":"Number","label":"helper point 1 X","description":"","group":"waypoint","extraInformation":[],"hidden":false,"name":"x1"},{"value":"0","type":"Number","label":"helper point 1 Y","description":"","group":"waypoint","extraInformation":[],"hidden":false,"name":"y1"},{"value":"0","type":"Number","label":"helper point 2 X","description":"","group":"waypoint","extraInformation":[],"hidden":false,"name":"x2"},{"value":"0","type":"Number","label":"helper point 2 Y","description":"","group":"waypoint","extraInformation":[],"hidden":false,"name":"y2"},{"value":"0","type":"Number","label":"The ID of the order","description":"","group":"waypoint","extraInformation":[],"hidden":false,"name":"orderID"}]}]}],"externalLayouts":[],"externalSourceFiles":[]}